[{"sha":"21a44bcb559682f67289ac72571206597c00855b","node_id":"MDY6Q29tbWl0MzkzMjY3MDU3OjIxYTQ0YmNiNTU5NjgyZjY3Mjg5YWM3MjU3MTIwNjU5N2MwMDg1NWI=","commit":{"author":{"name":"Ruffin","email":"roxfoxpox@gmail.com","date":"2021-07-19T22:49:37Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-07-19T22:49:37Z"},"message":" Refactor actions to rebuild CI image from CI (#2405)\n\n* Add dependabot config\r\n\r\n* Workarround missing ARG support in dependabot\r\nParrent image can't yet be parameterized for version parsing\r\nhttps://github.com/dependabot/dependabot-core/issues/2057\r\n\r\n* Fix CCACHE_DIR to be absolute path\r\nhttps://github.com/ros-planning/navigation2/pull/2403\r\n\r\n* Remove FAIL_ON_BUILD_FAILURE ARG\r\nnow that CI image builds from rolling testing\r\nand no longer ros2 nightly\r\nso forcing image rebuilds is no longer needed\r\n\r\n* Trigger rebuild on changes to Dockerfile\r\n\r\n* Add github-actions to dependabot\r\n\r\n* Refactor actions to rebuild CI image from CI\r\n\r\n* Clean old dockerhub build hook\r\n\r\n* Rename action\r\n\r\n* Combine workflows to avoid dispaching\r\nas that requires a github personal access token\r\nwhich is an inconvenience to generate and add to repo secrets\r\n\r\n* Add needs param to define job order\r\n\r\n* Use job outputs for condition instead of env\r\nSeems that env in context is not yet avalable at the job level\r\nbut only at the current job's step level\r\nhttps://github.community/t/how-to-set-and-access-a-workflow-variable/17335/6\r\nhttps://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idoutputs\r\n\r\n* Use multi-line syntax for tags param\r\n\r\n* Use toJSON for job conditional\r\n\r\n* Test with always\r\n\r\n* Update param syntax\r\n\r\n* Test with always\r\n\r\n* Update if syntax\r\n\r\n* Test if trigger for only check_ci_files\r\n\r\n* Simplify if params\r\n\r\n* Try using GitHub's Container registry\r\n\r\n* Indent formating\r\n\r\n* Add step conditional\r\n\r\n* Default arg to build from unpinned parrent stage\r\nallowing CI to build from pinned testing image\r\nwhile enabling dependabot to find and update testing image version\r\nensuring CI images are up-to-date with upstream registries\r\n\r\n* Set build arg for continuous integration\r\n\r\n* Ignore .github folder\r\n\r\n* testing\r\n\r\n* Update colcon-cache\r\n\r\n* Revert to rolling\r\n\r\n* Revert testing\r\n\r\n* Update README","tree":{"sha":"0bd8f1d344763847664224d1f3c719852766091a","url":"https://api.github.com/repos/MOLOCH-dev/navigation2/git/trees/0bd8f1d344763847664224d1f3c719852766091a"},"url":"https://api.github.com/repos/MOLOCH-dev/navigation2/git/commits/21a44bcb559682f67289ac72571206597c00855b","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg9gGBCRBK7hj4Ov3rIwAARa4IAG8pIyfV0h6tKNKLs6SxSWPI\nSxgjf36fx22OytTfCqdTT6UMCbzT0fhXLpOeH8Jm3foh2knsiSvVSA7sXDgTlutI\nO/i8mCKYeY1TJlBI4H8UOZ3w21Bf8qp/Owu0kMa8QGNPRRUkhtBuc1fP4w/TF0Pm\nuuT9YfYnuBg8xBMGqjP5nQ1ME5NyEWqGddNs2RSKtLfABp8Vaw838gHtCzG6mb8W\nnR+78DA20c/mYttOyQE3HCYhEX49ZVroTz5Aw2DbulWG/7WSpKxJ+MgvBMFYuPp8\nIQBdM1ztxWjCLVmsNzb9AOBtzG3ttyYf10I/RugIoDpzaUgphdktaA1kRhNg8Bg=\n=FgTk\n-----END PGP SIGNATURE-----\n","payload":"tree 0bd8f1d344763847664224d1f3c719852766091a\nparent 3913e878b0595e6cb49e449af6d9faa79fe2c9f5\nauthor Ruffin <roxfoxpox@gmail.com> 1626734977 -0700\ncommitter GitHub <noreply@github.com> 1626734977 -0700\n\n Refactor actions to rebuild CI image from CI (#2405)\n\n* Add dependabot config\r\n\r\n* Workarround missing ARG support in dependabot\r\nParrent image can't yet be parameterized for version parsing\r\nhttps://github.com/dependabot/dependabot-core/issues/2057\r\n\r\n* Fix CCACHE_DIR to be absolute path\r\nhttps://github.com/ros-planning/navigation2/pull/2403\r\n\r\n* Remove FAIL_ON_BUILD_FAILURE ARG\r\nnow that CI image builds from rolling testing\r\nand no longer ros2 nightly\r\nso forcing image rebuilds is no longer needed\r\n\r\n* Trigger rebuild on changes to Dockerfile\r\n\r\n* Add github-actions to dependabot\r\n\r\n* Refactor actions to rebuild CI image from CI\r\n\r\n* Clean old dockerhub build hook\r\n\r\n* Rename action\r\n\r\n* Combine workflows to avoid dispaching\r\nas that requires a github personal access token\r\nwhich is an inconvenience to generate and add to repo secrets\r\n\r\n* Add needs param to define job order\r\n\r\n* Use job outputs for condition instead of env\r\nSeems that env in context is not yet avalable at the job level\r\nbut only at the current job's step level\r\nhttps://github.community/t/how-to-set-and-access-a-workflow-variable/17335/6\r\nhttps://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idoutputs\r\n\r\n* Use multi-line syntax for tags param\r\n\r\n* Use toJSON for job conditional\r\n\r\n* Test with always\r\n\r\n* Update param syntax\r\n\r\n* Test with always\r\n\r\n* Update if syntax\r\n\r\n* Test if trigger for only check_ci_files\r\n\r\n* Simplify if params\r\n\r\n* Try using GitHub's Container registry\r\n\r\n* Indent formating\r\n\r\n* Add step conditional\r\n\r\n* Default arg to build from unpinned parrent stage\r\nallowing CI to build from pinned testing image\r\nwhile enabling dependabot to find and update testing image version\r\nensuring CI images are up-to-date with upstream registries\r\n\r\n* Set build arg for continuous integration\r\n\r\n* Ignore .github folder\r\n\r\n* testing\r\n\r\n* Update colcon-cache\r\n\r\n* Revert to rolling\r\n\r\n* Revert testing\r\n\r\n* Update README"}},"url":"https://api.github.com/repos/MOLOCH-dev/navigation2/commits/21a44bcb559682f67289ac72571206597c00855b","html_url":"https://github.com/MOLOCH-dev/navigation2/commit/21a44bcb559682f67289ac72571206597c00855b","comments_url":"https://api.github.com/repos/MOLOCH-dev/navigation2/commits/21a44bcb559682f67289ac72571206597c00855b/comments","author":{"login":"ruffsl","id":2293573,"node_id":"MDQ6VXNlcjIyOTM1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/2293573?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffsl","html_url":"https://github.com/ruffsl","followers_url":"https://api.github.com/users/ruffsl/followers","following_url":"https://api.github.com/users/ruffsl/following{/other_user}","gists_url":"https://api.github.com/users/ruffsl/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffsl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffsl/subscriptions","organizations_url":"https://api.github.com/users/ruffsl/orgs","repos_url":"https://api.github.com/users/ruffsl/repos","events_url":"https://api.github.com/users/ruffsl/events{/privacy}","received_events_url":"https://api.github.com/users/ruffsl/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"3913e878b0595e6cb49e449af6d9faa79fe2c9f5","url":"https://api.github.com/repos/MOLOCH-dev/navigation2/commits/3913e878b0595e6cb49e449af6d9faa79fe2c9f5","html_url":"https://github.com/MOLOCH-dev/navigation2/commit/3913e878b0595e6cb49e449af6d9faa79fe2c9f5"}]}]