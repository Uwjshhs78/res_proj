[{"sha":"4864fbdac4f7e3078f2e9e4df487553f93444f74","node_id":"MDY6Q29tbWl0MjM5NzM4NTM0OjQ4NjRmYmRhYzRmN2UzMDc4ZjJlOWU0ZGY0ODc1NTNmOTM0NDRmNzQ=","commit":{"author":{"name":"Roberto Santalla","email":"roobre@users.noreply.github.com","date":"2021-04-14T13:39:14Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-04-14T13:39:14Z"},"message":"new bundler and preparation for multiarch support (#61)\n\n* wip: downloader script and bundle specfile\r\n\r\nwip: parallelize\r\n\r\nslightly better errror handling\r\n\r\nseparete outdirs per architecture\r\n\r\nlimit concurrency\r\n\r\nremove unneeded files, add support for archReplacements\r\n\r\n* multiarch Dockerfile\r\n\r\n* add a few more integrations to the bundle\r\n\r\n* remove legacy files, change pipeline to use new fetcher\r\n\r\n* store config in buildsettings.env\r\n\r\n* temporarily build for amd64 only\r\n\r\n* add simple script to run ci locally\r\n\r\n* config and error handling improvements\r\n\r\n* migrate versions file to bundle.yml\r\n\r\n* wrap docker buildx to set defaults\r\n\r\n* update readme\r\n\r\n* remove leftover S3_something env var\r\n\r\n* delete leftover snyk-scan.sh\r\n\r\n* minor comments\r\n\r\n* update .gitignore\r\n\r\n* keep the same versions as previously for testing\r\n\r\n* delete previous out folder, if any\r\n\r\n* implement extracting integration in subdir\r\n\r\n* remove previous download folder\r\n\r\n* also remove readmes, changelogs and licenses\r\n\r\n* extract nri-discovery-kubernetes in the correct path\r\n\r\n* pack the same nrjmx version as before\r\n\r\n* run also on prereleases\r\n\r\n* do not default to latest\r\n\r\n* add version bumping docs\r\n\r\n* use go modules for downloader.go\r\n\r\n* define agentVersion in yaml, make docker-build.sh extract it\r\n\r\n* fix tag checking\r\n\r\nCo-authored-by: PaoloGallina <43335750+paologallinaharbur@users.noreply.github.com>\r\n\r\n* skip apk upgrade, should be done in the base image\r\n\r\n* minor changes in readme and comments\r\n\r\n* update agent base image to 1.16.3\r\n\r\n* move things out of the build folder\r\n\r\n* remove content-type check\r\n\r\n* WIP: test secrets and platforms for release\r\n\r\n* remove references to build/ subfolder from README\r\n\r\n* use prod secrets\r\n\r\nCo-authored-by: PaoloGallina <43335750+paologallinaharbur@users.noreply.github.com>","tree":{"sha":"e2e611c777f779510363ecd231d5127cd69316ab","url":"https://api.github.com/repos/newrelic/infrastructure-bundle/git/trees/e2e611c777f779510363ecd231d5127cd69316ab"},"url":"https://api.github.com/repos/newrelic/infrastructure-bundle/git/commits/4864fbdac4f7e3078f2e9e4df487553f93444f74","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgdvCCCRBK7hj4Ov3rIwAAdHIIACQ/8NoBLvOPnGFKQVLtEUq4\nzO8S2HJfVvK0lyoWCtMPOjKjeOLclU1IEp8cxC8Mm8Gm32DnzGKAG/UvelLezwr9\nfiWjb1ACvNafMrvo7N41t6sNjbMC0vonlEatg8Dxhxmd0ZOua1pvag7UI35RtfjW\nznUGe1GNXZBDrD4UDxwROh1zx7bKeeivDQ+mwJQk8umqF1cZmDZ/dCJvPBkTDSzX\n3bVI0+r75rGQJwzO6mq4RckdZaSFAb/+T0HSeJsHYHoTo+KGAM3dmc1ZhyR27+gE\nUZJU0Ks8tdn+LOM/i8XYRtofSjvHhRmSrqaRiughktAA60ACv4yQYKMH9X/9eb8=\n=p5QE\n-----END PGP SIGNATURE-----\n","payload":"tree e2e611c777f779510363ecd231d5127cd69316ab\nparent 388f077c97855e76a4451dd30110c1117cda5a26\nauthor Roberto Santalla <roobre@users.noreply.github.com> 1618407554 +0200\ncommitter GitHub <noreply@github.com> 1618407554 +0200\n\nnew bundler and preparation for multiarch support (#61)\n\n* wip: downloader script and bundle specfile\r\n\r\nwip: parallelize\r\n\r\nslightly better errror handling\r\n\r\nseparete outdirs per architecture\r\n\r\nlimit concurrency\r\n\r\nremove unneeded files, add support for archReplacements\r\n\r\n* multiarch Dockerfile\r\n\r\n* add a few more integrations to the bundle\r\n\r\n* remove legacy files, change pipeline to use new fetcher\r\n\r\n* store config in buildsettings.env\r\n\r\n* temporarily build for amd64 only\r\n\r\n* add simple script to run ci locally\r\n\r\n* config and error handling improvements\r\n\r\n* migrate versions file to bundle.yml\r\n\r\n* wrap docker buildx to set defaults\r\n\r\n* update readme\r\n\r\n* remove leftover S3_something env var\r\n\r\n* delete leftover snyk-scan.sh\r\n\r\n* minor comments\r\n\r\n* update .gitignore\r\n\r\n* keep the same versions as previously for testing\r\n\r\n* delete previous out folder, if any\r\n\r\n* implement extracting integration in subdir\r\n\r\n* remove previous download folder\r\n\r\n* also remove readmes, changelogs and licenses\r\n\r\n* extract nri-discovery-kubernetes in the correct path\r\n\r\n* pack the same nrjmx version as before\r\n\r\n* run also on prereleases\r\n\r\n* do not default to latest\r\n\r\n* add version bumping docs\r\n\r\n* use go modules for downloader.go\r\n\r\n* define agentVersion in yaml, make docker-build.sh extract it\r\n\r\n* fix tag checking\r\n\r\nCo-authored-by: PaoloGallina <43335750+paologallinaharbur@users.noreply.github.com>\r\n\r\n* skip apk upgrade, should be done in the base image\r\n\r\n* minor changes in readme and comments\r\n\r\n* update agent base image to 1.16.3\r\n\r\n* move things out of the build folder\r\n\r\n* remove content-type check\r\n\r\n* WIP: test secrets and platforms for release\r\n\r\n* remove references to build/ subfolder from README\r\n\r\n* use prod secrets\r\n\r\nCo-authored-by: PaoloGallina <43335750+paologallinaharbur@users.noreply.github.com>"}},"url":"https://api.github.com/repos/newrelic/infrastructure-bundle/commits/4864fbdac4f7e3078f2e9e4df487553f93444f74","html_url":"https://github.com/newrelic/infrastructure-bundle/commit/4864fbdac4f7e3078f2e9e4df487553f93444f74","comments_url":"https://api.github.com/repos/newrelic/infrastructure-bundle/commits/4864fbdac4f7e3078f2e9e4df487553f93444f74/comments","author":{"login":"roobre","id":969721,"node_id":"MDQ6VXNlcjk2OTcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/969721?v=4","gravatar_id":"","url":"https://api.github.com/users/roobre","html_url":"https://github.com/roobre","followers_url":"https://api.github.com/users/roobre/followers","following_url":"https://api.github.com/users/roobre/following{/other_user}","gists_url":"https://api.github.com/users/roobre/gists{/gist_id}","starred_url":"https://api.github.com/users/roobre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roobre/subscriptions","organizations_url":"https://api.github.com/users/roobre/orgs","repos_url":"https://api.github.com/users/roobre/repos","events_url":"https://api.github.com/users/roobre/events{/privacy}","received_events_url":"https://api.github.com/users/roobre/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"388f077c97855e76a4451dd30110c1117cda5a26","url":"https://api.github.com/repos/newrelic/infrastructure-bundle/commits/388f077c97855e76a4451dd30110c1117cda5a26","html_url":"https://github.com/newrelic/infrastructure-bundle/commit/388f077c97855e76a4451dd30110c1117cda5a26"}]}]