[{"sha":"88583095c408ef9ea60f793e7072e3fd4b88e329","node_id":"C_kwDOF4V2uNoAKDg4NTgzMDk1YzQwOGVmOWVhNjBmNzkzZTcwNzJlM2ZkNGI4OGUzMjk","commit":{"author":{"name":"Jarek Potiuk","email":"jarek@potiuk.com","date":"2021-10-19T01:03:58Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-10-19T01:03:58Z"},"message":"Workaround libstdcpp TLS error (#19010)\n\nWorkaround https://github.com/apache/airflow/issues/17546 issue with\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6: cannot allocate memory in\r\nstatic TLS block.\r\n\r\nWe do not yet a more \"correct\" solution to the problem but in order to\r\navoid raising new issues by users of the prod image, we implement the\r\nworkaround now.\r\n\r\nThe side effect of this is slightly (in the range of 100s of\r\nmilliseconds) slower load for any binary started and a little memory\r\nused for Heap allocated by initialization of libstdc++.\r\n\r\nThis overhead is not happening for binaries that already link\r\ndynamically libstdc++.","tree":{"sha":"b99cd1a0f342c6298950c2eccdf88fce73656eab","url":"https://api.github.com/repos/deedmitrij/airflow/git/trees/b99cd1a0f342c6298950c2eccdf88fce73656eab"},"url":"https://api.github.com/repos/deedmitrij/airflow/git/commits/88583095c408ef9ea60f793e7072e3fd4b88e329","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhbhl+CRBK7hj4Ov3rIwAAZu0IAC22GdJmRGwb4kVpinKh2jqZ\nDTmhU61bEb935+wpl/R/8RLIwiHKN68g+OWaQlH7TE+VGNS13QxoK3qtO7NfwPsa\n5pO2LsEJHucKK3Shs/g+HwDCYOY4VjQJWTHB+UUsOpJX5xTM72cv5ZPBvFbw66aJ\nJ8bXGuuTkzFqBAh8FZLSEBKcVDoDW/CmGpPdIYAMM44CD8Cdxy9B3AAhAMK1JFUk\nNlVXNj5xM1gcNi0AF9U+0FJswqP2oNEhSXgXhb1XBYb4ExKDq9v+ZMdgRvvwmu+I\nOg2Yw9JWJwEdz9mZ+CGMu7qkcDO1w/bDdcgbLz6kPdYc154H1YnxwugSKb7Hzag=\n=sBZh\n-----END PGP SIGNATURE-----\n","payload":"tree b99cd1a0f342c6298950c2eccdf88fce73656eab\nparent e5422f0233b993acfe7c881dfa72178e662f8e46\nauthor Jarek Potiuk <jarek@potiuk.com> 1634605438 -0100\ncommitter GitHub <noreply@github.com> 1634605438 -0100\n\nWorkaround libstdcpp TLS error (#19010)\n\nWorkaround https://github.com/apache/airflow/issues/17546 issue with\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6: cannot allocate memory in\r\nstatic TLS block.\r\n\r\nWe do not yet a more \"correct\" solution to the problem but in order to\r\navoid raising new issues by users of the prod image, we implement the\r\nworkaround now.\r\n\r\nThe side effect of this is slightly (in the range of 100s of\r\nmilliseconds) slower load for any binary started and a little memory\r\nused for Heap allocated by initialization of libstdc++.\r\n\r\nThis overhead is not happening for binaries that already link\r\ndynamically libstdc++."}},"url":"https://api.github.com/repos/deedmitrij/airflow/commits/88583095c408ef9ea60f793e7072e3fd4b88e329","html_url":"https://github.com/deedmitrij/airflow/commit/88583095c408ef9ea60f793e7072e3fd4b88e329","comments_url":"https://api.github.com/repos/deedmitrij/airflow/commits/88583095c408ef9ea60f793e7072e3fd4b88e329/comments","author":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"e5422f0233b993acfe7c881dfa72178e662f8e46","url":"https://api.github.com/repos/deedmitrij/airflow/commits/e5422f0233b993acfe7c881dfa72178e662f8e46","html_url":"https://github.com/deedmitrij/airflow/commit/e5422f0233b993acfe7c881dfa72178e662f8e46"}]}]