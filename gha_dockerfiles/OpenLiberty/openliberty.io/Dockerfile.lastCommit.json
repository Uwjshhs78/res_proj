[{"sha":"061703ed669125a15254a71cc121ab0213e572f9","node_id":"MDY6Q29tbWl0MTAwMDU5MDYxOjA2MTcwM2VkNjY5MTI1YTE1MjU0YTcxY2MxMjFhYjAyMTNlNTcyZjk=","commit":{"author":{"name":"Alasdair Nottingham","email":"alasdair.nottingham@gmail.com","date":"2020-04-30T02:10:57Z"},"committer":{"name":"Alasdair Nottingham","email":"alasdair.nottingham@gmail.com","date":"2020-05-06T17:41:14Z"},"message":"Make latestVersion.js update without restart\n\nFixes #1616\n\nCurrently the LatestVersion servlet doesn't correctly show an new build\nwithout a server restart so this fix aims to resolve that. The fix uses\nCDI events to notify the change. This necessetated the following\nchanges:\n\n1. BuildData is now a CDI beans which means using setter and getters for\n    JSON-B.\n2. BuildData now fires an event if the BuildType is a release.\n3. The LatestVersion servlet now observes the event emitted by BuildData\n4. The AtomicReference storing the latestVersion.js is now static since\n    CDI events create random new instances for notification.\n5. DHEBuildParser now has BuildData injected.\n6. Written a test using MicroShed Testing and MockServer to support the\n    updates. This new test won't pass with liberty dev mode though. Not\n    quite sure how to resolve that at this time.\n7. Added a pre destroy method to cancel the scheduled futures on\n    shutdown. This means if using dev mode we correctly tidy up when in dev\n    mode rather than relying on Liberty to do it.\n8. Renamed the current Dockerfile to Dockerfile blogs since it is there\n    to support building and editing the blog posts\n9. Created a new Dockerfile that contains the website code.\n10. Added catch blocks for JAX-RS RuntimeExceptions which will prevent\nretries working.","tree":{"sha":"3701e7f3fba88ac437bd5243ab157664da2965a5","url":"https://api.github.com/repos/OpenLiberty/openliberty.io/git/trees/3701e7f3fba88ac437bd5243ab157664da2965a5"},"url":"https://api.github.com/repos/OpenLiberty/openliberty.io/git/commits/061703ed669125a15254a71cc121ab0213e572f9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/OpenLiberty/openliberty.io/commits/061703ed669125a15254a71cc121ab0213e572f9","html_url":"https://github.com/OpenLiberty/openliberty.io/commit/061703ed669125a15254a71cc121ab0213e572f9","comments_url":"https://api.github.com/repos/OpenLiberty/openliberty.io/commits/061703ed669125a15254a71cc121ab0213e572f9/comments","author":{"login":"NottyCode","id":1906689,"node_id":"MDQ6VXNlcjE5MDY2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1906689?v=4","gravatar_id":"","url":"https://api.github.com/users/NottyCode","html_url":"https://github.com/NottyCode","followers_url":"https://api.github.com/users/NottyCode/followers","following_url":"https://api.github.com/users/NottyCode/following{/other_user}","gists_url":"https://api.github.com/users/NottyCode/gists{/gist_id}","starred_url":"https://api.github.com/users/NottyCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NottyCode/subscriptions","organizations_url":"https://api.github.com/users/NottyCode/orgs","repos_url":"https://api.github.com/users/NottyCode/repos","events_url":"https://api.github.com/users/NottyCode/events{/privacy}","received_events_url":"https://api.github.com/users/NottyCode/received_events","type":"User","site_admin":false},"committer":{"login":"NottyCode","id":1906689,"node_id":"MDQ6VXNlcjE5MDY2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1906689?v=4","gravatar_id":"","url":"https://api.github.com/users/NottyCode","html_url":"https://github.com/NottyCode","followers_url":"https://api.github.com/users/NottyCode/followers","following_url":"https://api.github.com/users/NottyCode/following{/other_user}","gists_url":"https://api.github.com/users/NottyCode/gists{/gist_id}","starred_url":"https://api.github.com/users/NottyCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NottyCode/subscriptions","organizations_url":"https://api.github.com/users/NottyCode/orgs","repos_url":"https://api.github.com/users/NottyCode/repos","events_url":"https://api.github.com/users/NottyCode/events{/privacy}","received_events_url":"https://api.github.com/users/NottyCode/received_events","type":"User","site_admin":false},"parents":[{"sha":"16213dfa4562615376ad7338584fa94c230a57c2","url":"https://api.github.com/repos/OpenLiberty/openliberty.io/commits/16213dfa4562615376ad7338584fa94c230a57c2","html_url":"https://github.com/OpenLiberty/openliberty.io/commit/16213dfa4562615376ad7338584fa94c230a57c2"}]}]