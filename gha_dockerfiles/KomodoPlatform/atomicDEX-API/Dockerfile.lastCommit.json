[{"sha":"9e4b9b945d4da3c5f9095403cdc5f7bc5c85f811","node_id":"MDY6Q29tbWl0MTE5OTczNzExOjllNGI5Yjk0NWQ0ZGEzYzVmOTA5NTQwM2NkYzVmN2JjNWM4NWY4MTE=","commit":{"author":{"name":"Sergey O. Boyko","email":"58207208+sergeyboyko0791@users.noreply.github.com","date":"2021-03-11T10:41:35Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-03-11T10:41:35Z"},"message":"Fix MM2 compilation errors for wasm32 arch (#841)\n\n* Separate public interface and platform-specific code of database and metrics\r\n\r\n* Configure 'common' crate build for wasm32\r\n\r\n* Push the missed mm_metrics files\r\n\r\n* Change mm_counter, mm_gauge, mm_timing macro signature\r\n* Fix the 'unused_variable' warnings while using mm_metrics in wasm mode\r\n\r\n* Configure 'coins' crate build for wasm32\r\n\r\n* Turn off the fix-wasm-compile branch CI build temporary\r\n\r\n* Configure 'mm2_libp2p' crate build for wasm32\r\n* Add mm2_libp2p::runtime module\r\n* TODO pass a Js transport to the libp2p::wasm_ext::ExtTransport::new\r\n* TODO configure SwarmRuntime for wasm32 arch\r\n\r\n* Configure the whole mm2 build for wasm32\r\n\r\n* Fix wasm32 build warnings\r\n\r\n* Make test_sell_min_volume and test_buy_min_volume non-wasm32\r\n\r\n* Replace feature = \"native\" with target_arch = \"wasm32\" in some modules\r\n\r\n* Remove 'native' feature from toml files\r\n* Replace feature = \"native\" with target_arch = \"wasm32\" in the remaining modules\r\n\r\n* Remove 'w-bindgen' feature from toml files\r\n* Replace feature = \"w-bindgen\" with target_arch = \"wasm32\"\r\n\r\n* Remove '--features native' from CI scripts\r\n\r\n* Minor changes: append the log tail into common::log::writeln\r\n\r\n* Minor changes: remove extra cfg_attr\r\n\r\n* Remove SqliteCtx, fix `cargo build --target wasm-unknown-unknown` warnings\r\n\r\n* Small changes: comments\r\n\r\n* Add defined-in-js.js\r\n\r\n* Enable eth_wasm_tests\r\n* Replace eth::eth_tests::wasm_bindgen_tests into eth::eth_wasm_tests\r\n* Fix utxo_tests compilation errors on `cargo test --target wasm32-unknown-unknown --package coins`\r\n\r\n* Minor changes: enable p2p for wasm32 build\r\n\r\n* Remove JenkinsFile, configure the CI wasm tests\r\n\r\n* Replace HEADLESS_TIMEOUT with the WASM_BINDGEN_TEST_TIMEOUT","tree":{"sha":"2c8a4a1d809fbba67e3b45d60207588f24629f3c","url":"https://api.github.com/repos/KomodoPlatform/atomicDEX-API/git/trees/2c8a4a1d809fbba67e3b45d60207588f24629f3c"},"url":"https://api.github.com/repos/KomodoPlatform/atomicDEX-API/git/commits/9e4b9b945d4da3c5f9095403cdc5f7bc5c85f811","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgSfPfCRBK7hj4Ov3rIwAAdHIIAJxawY0JSLaU9peok+t4B6Db\n4sFKwltoI9Q6CwLsEGCIYcy6zFEIowp2oLzvLAUSZ13Z2Iy6siWwjD2qVTOErRJW\n3/SPPEfvOC/TDlAtOT0qblsCu99LH11y2lA/ESKOUXs+UjfVH27iXYAyFao79CMu\n2+rTDcgMoOCsAELauzvihLNBgZObx726nluPdWA7DBwk0RyzdF1e32f01VGsCV/m\nO0HFlcdp4DpOwpV0wO8ItTvfQW2C4oCIpIkBKWCPfvf0q2Bqn1nB7RiiAHiJIhIt\ncLQTIJpA1I3GLgNL7hVxXHYcXOTZATY119ZUTo3wCpMNu+McLaoq3NP2HktP+us=\n=Uhhr\n-----END PGP SIGNATURE-----\n","payload":"tree 2c8a4a1d809fbba67e3b45d60207588f24629f3c\nparent 54eb039bf1a212a98d93b60dad32adcfc5d259a2\nauthor Sergey O. Boyko <58207208+sergeyboyko0791@users.noreply.github.com> 1615459295 +0700\ncommitter GitHub <noreply@github.com> 1615459295 +0700\n\nFix MM2 compilation errors for wasm32 arch (#841)\n\n* Separate public interface and platform-specific code of database and metrics\r\n\r\n* Configure 'common' crate build for wasm32\r\n\r\n* Push the missed mm_metrics files\r\n\r\n* Change mm_counter, mm_gauge, mm_timing macro signature\r\n* Fix the 'unused_variable' warnings while using mm_metrics in wasm mode\r\n\r\n* Configure 'coins' crate build for wasm32\r\n\r\n* Turn off the fix-wasm-compile branch CI build temporary\r\n\r\n* Configure 'mm2_libp2p' crate build for wasm32\r\n* Add mm2_libp2p::runtime module\r\n* TODO pass a Js transport to the libp2p::wasm_ext::ExtTransport::new\r\n* TODO configure SwarmRuntime for wasm32 arch\r\n\r\n* Configure the whole mm2 build for wasm32\r\n\r\n* Fix wasm32 build warnings\r\n\r\n* Make test_sell_min_volume and test_buy_min_volume non-wasm32\r\n\r\n* Replace feature = \"native\" with target_arch = \"wasm32\" in some modules\r\n\r\n* Remove 'native' feature from toml files\r\n* Replace feature = \"native\" with target_arch = \"wasm32\" in the remaining modules\r\n\r\n* Remove 'w-bindgen' feature from toml files\r\n* Replace feature = \"w-bindgen\" with target_arch = \"wasm32\"\r\n\r\n* Remove '--features native' from CI scripts\r\n\r\n* Minor changes: append the log tail into common::log::writeln\r\n\r\n* Minor changes: remove extra cfg_attr\r\n\r\n* Remove SqliteCtx, fix `cargo build --target wasm-unknown-unknown` warnings\r\n\r\n* Small changes: comments\r\n\r\n* Add defined-in-js.js\r\n\r\n* Enable eth_wasm_tests\r\n* Replace eth::eth_tests::wasm_bindgen_tests into eth::eth_wasm_tests\r\n* Fix utxo_tests compilation errors on `cargo test --target wasm32-unknown-unknown --package coins`\r\n\r\n* Minor changes: enable p2p for wasm32 build\r\n\r\n* Remove JenkinsFile, configure the CI wasm tests\r\n\r\n* Replace HEADLESS_TIMEOUT with the WASM_BINDGEN_TEST_TIMEOUT"}},"url":"https://api.github.com/repos/KomodoPlatform/atomicDEX-API/commits/9e4b9b945d4da3c5f9095403cdc5f7bc5c85f811","html_url":"https://github.com/KomodoPlatform/atomicDEX-API/commit/9e4b9b945d4da3c5f9095403cdc5f7bc5c85f811","comments_url":"https://api.github.com/repos/KomodoPlatform/atomicDEX-API/commits/9e4b9b945d4da3c5f9095403cdc5f7bc5c85f811/comments","author":{"login":"sergeyboyko0791","id":58207208,"node_id":"MDQ6VXNlcjU4MjA3MjA4","avatar_url":"https://avatars.githubusercontent.com/u/58207208?v=4","gravatar_id":"","url":"https://api.github.com/users/sergeyboyko0791","html_url":"https://github.com/sergeyboyko0791","followers_url":"https://api.github.com/users/sergeyboyko0791/followers","following_url":"https://api.github.com/users/sergeyboyko0791/following{/other_user}","gists_url":"https://api.github.com/users/sergeyboyko0791/gists{/gist_id}","starred_url":"https://api.github.com/users/sergeyboyko0791/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergeyboyko0791/subscriptions","organizations_url":"https://api.github.com/users/sergeyboyko0791/orgs","repos_url":"https://api.github.com/users/sergeyboyko0791/repos","events_url":"https://api.github.com/users/sergeyboyko0791/events{/privacy}","received_events_url":"https://api.github.com/users/sergeyboyko0791/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"54eb039bf1a212a98d93b60dad32adcfc5d259a2","url":"https://api.github.com/repos/KomodoPlatform/atomicDEX-API/commits/54eb039bf1a212a98d93b60dad32adcfc5d259a2","html_url":"https://github.com/KomodoPlatform/atomicDEX-API/commit/54eb039bf1a212a98d93b60dad32adcfc5d259a2"}]}]