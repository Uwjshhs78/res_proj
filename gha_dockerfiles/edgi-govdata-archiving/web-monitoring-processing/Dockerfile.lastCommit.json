[{"sha":"ce3602815001b9dd9e403e296a25bd6a1df23c17","node_id":"MDY6Q29tbWl0ODM1NTk5NDc6Y2UzNjAyODE1MDAxYjlkZDllNDAzZTI5NmEyNWJkNmExZGYyM2MxNw==","commit":{"author":{"name":"Rob Brackett","email":"rob@robbrackett.com","date":"2020-09-05T20:53:01Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-09-05T20:53:01Z"},"message":"Use cURL-based HTTP client in diff server (#579)\n\nThis is effectively a revival of #293 (from @vbanos). The cURL HTTP client in Tornado is both faster and supports more funny business that various HTTP servers do. This might also improve some of the weird memory & SSL errors we run into in production every so often.\r\n\r\nLast time around, we had some concerns about whether `CURLOPT_MAXFILESIZE` would be good enough to restrict the size of responses and mitigate memory issues. Happily, we now have tests around this and it does.\r\n\r\nTo continue using the simple HTTP client, set the `USE_SIMPLE_HTTP_CLIENT` environment variable. As long as the cURL client works well, though, we’ll probably eventually drop support for the simple one.","tree":{"sha":"d997f49a463926cd7b9b81ee98ccc667c8e76c7a","url":"https://api.github.com/repos/edgi-govdata-archiving/web-monitoring-processing/git/trees/d997f49a463926cd7b9b81ee98ccc667c8e76c7a"},"url":"https://api.github.com/repos/edgi-govdata-archiving/web-monitoring-processing/git/commits/ce3602815001b9dd9e403e296a25bd6a1df23c17","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfU/qtCRBK7hj4Ov3rIwAAdHIIABb5YzmBiSoHmzso9wImm6B/\nPPXeewmFPaWjr9tmze9PrmTEzgSsDL5rfYR0kF75RyL7HqZiTE/PKbexqtZMAGqs\n43WCFNklMVs/zRKchccmV6Rj8ejBpdqmAoaMvlJRmzacZ2xXLvheYDbdYcdorfub\nR24KqCUwShhIzGtPisoENlNK/kJ65q03DnN6QqL3UTibkZ7Ykpmk1tZan+19aOEA\nTL4hEWWQg8Fy9lrqeNMShIKtzv5js/26Py+aHxfTU0VaX4r2nNo0G/HLzSpFpZ+f\nPU2zGMX1eK2mPWnPzeJKzmfacLccb6M3bz+gMNCuyA8marIu5tkjMbLE52Xe5ns=\n=JPei\n-----END PGP SIGNATURE-----\n","payload":"tree d997f49a463926cd7b9b81ee98ccc667c8e76c7a\nparent bc3925d693bd9c7bb3c123692cb9226a893c24e6\nauthor Rob Brackett <rob@robbrackett.com> 1599339181 -0700\ncommitter GitHub <noreply@github.com> 1599339181 -0700\n\nUse cURL-based HTTP client in diff server (#579)\n\nThis is effectively a revival of #293 (from @vbanos). The cURL HTTP client in Tornado is both faster and supports more funny business that various HTTP servers do. This might also improve some of the weird memory & SSL errors we run into in production every so often.\r\n\r\nLast time around, we had some concerns about whether `CURLOPT_MAXFILESIZE` would be good enough to restrict the size of responses and mitigate memory issues. Happily, we now have tests around this and it does.\r\n\r\nTo continue using the simple HTTP client, set the `USE_SIMPLE_HTTP_CLIENT` environment variable. As long as the cURL client works well, though, we’ll probably eventually drop support for the simple one."}},"url":"https://api.github.com/repos/edgi-govdata-archiving/web-monitoring-processing/commits/ce3602815001b9dd9e403e296a25bd6a1df23c17","html_url":"https://github.com/edgi-govdata-archiving/web-monitoring-processing/commit/ce3602815001b9dd9e403e296a25bd6a1df23c17","comments_url":"https://api.github.com/repos/edgi-govdata-archiving/web-monitoring-processing/commits/ce3602815001b9dd9e403e296a25bd6a1df23c17/comments","author":{"login":"Mr0grog","id":74178,"node_id":"MDQ6VXNlcjc0MTc4","avatar_url":"https://avatars.githubusercontent.com/u/74178?v=4","gravatar_id":"","url":"https://api.github.com/users/Mr0grog","html_url":"https://github.com/Mr0grog","followers_url":"https://api.github.com/users/Mr0grog/followers","following_url":"https://api.github.com/users/Mr0grog/following{/other_user}","gists_url":"https://api.github.com/users/Mr0grog/gists{/gist_id}","starred_url":"https://api.github.com/users/Mr0grog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mr0grog/subscriptions","organizations_url":"https://api.github.com/users/Mr0grog/orgs","repos_url":"https://api.github.com/users/Mr0grog/repos","events_url":"https://api.github.com/users/Mr0grog/events{/privacy}","received_events_url":"https://api.github.com/users/Mr0grog/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"bc3925d693bd9c7bb3c123692cb9226a893c24e6","url":"https://api.github.com/repos/edgi-govdata-archiving/web-monitoring-processing/commits/bc3925d693bd9c7bb3c123692cb9226a893c24e6","html_url":"https://github.com/edgi-govdata-archiving/web-monitoring-processing/commit/bc3925d693bd9c7bb3c123692cb9226a893c24e6"}]}]