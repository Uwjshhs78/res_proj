[{"sha":"3cd65e708fda236ed92df0405bd09bfbade89d37","node_id":"C_kwDOE9bWmNoAKDNjZDY1ZTcwOGZkYTIzNmVkOTJkZjA0MDViZDA5YmZiYWRlODlkMzc","commit":{"author":{"name":"Brett McHargue","email":"ebrett@users.noreply.github.com","date":"2021-09-30T16:34:29Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-09-30T16:34:29Z"},"message":"Develop (#423)\n\n* Add new deploy scripts for all stages\r\n\r\n* Dev\r\n* Staging - creates and tags with input version\r\n* Production - from image created for staging\r\n* Sandbox\r\n* Review\r\n\r\n* Add development credentials\r\n\r\n* Update review workflow\r\n\r\n* Add destroy Review app workflow\r\n\r\nAlso, fix review app errors\r\n\r\n* Basic article functionality (#396)\r\n\r\n* Update review app workflow\r\n\r\n* Remove old credentials file\r\n\r\n* Update credentials\r\n\r\n* Use rails credentials\r\n\r\n* Use deployed_development environment for DEV space\r\n\r\n* Add logger for debugging\r\n\r\n* Review app uses deployed_development Rails environment\r\n\r\n* Database name needed for deployed_development\r\n\r\n* Use ENV database name\r\n\r\n* Increase app timeout and memory\r\n\r\n* Also for review apps\r\n\r\n* Add support articles to the application separately\r\n\r\n* Add live preview of articles\r\n\r\n* Fix rubocop errors\r\n\r\n* Correct terraform init in destroy workflow\r\n\r\n* Fix rubocop errors\r\n\r\n* Add network policy\r\n\r\n* Remove unnecessary host\r\n\r\n* Hold off on antivirus network policy update\r\n\r\n* Correct name for landing-page-introduction block\r\n\r\nUse underscores and load from locales file\r\n\r\n* Remove unused stuff\r\n\r\n* Add delete of article\r\n\r\n* Cleanup workflows for deploy to dev and review\r\n\r\n* Make notices for articles\r\n\r\n* Cleanup rubocop and remove separate rubocop workflow\r\n\r\n* Add article feature spec\r\n\r\n* Drafts and publishing (#411)\r\n\r\n* Work in progress for versioning pages\r\n\r\n* WIP\r\n\r\n* WIP\r\n\r\n* Work in progress\r\n\r\n* Rubocop\r\n\r\n* Work in progress\r\n\r\n* New migrations. Made some tests pending, fixed others\r\n\r\n* New migrations. Made some tests pending, fixed others\r\n\r\n* Fix merge typo\r\n\r\n* Bello's review tickets (569 - 572)\r\n\r\n* Confirm before clicking on back\r\nDon't delete published page when the last draft is deleted !\r\n\r\n* Added host to config.hosts\r\n\r\n* Confirm before clicking on back\r\nTry to get a review app started\r\n\r\n* Trying to deploy review app\r\n\r\n* Trying to deploy review app\r\n\r\n* Trying to deploy review app\r\n\r\n* Attempt at review app\r\n\r\n* Cause deploy\r\n\r\n* Testing review apps\r\n\r\n* When a page is published, the version it came from is deleted\r\n\r\n* Started spec for drafts\r\n\r\n* Started spec for drafts\r\n\r\n* rubocop\r\n\r\n* Error messages for ContentPage editing\r\n\r\n* 585 - can now edit position of page. Also, AM/PM shown on versions. Versions table columns aligned (#413)\r\n\r\n* 591 and 593 added 404 for unpubished urls (#418)\r\n\r\n* 585 - can now edit position of page. Also, AM/PM shown on versions. Versions table columns aligned\r\n\r\n* updated tests for PR\r\n\r\n* Hide unpublished pages\r\n\r\n* unpublished pages were showing up in the list of featured page children\r\n\r\n* Fixes for 587,589,590,592 - mostly about error messages on ContentPage edit view, breadcrumbs, changing title and a cosmetic issue on that form\r\n\r\n* Fixed breadcrumb on preview page, title now saved correctly\r\n\r\n* ContentPageVersion validates title for format (#421)\r\n\r\n* ContentPageVersion validates title for format\r\n\r\n* Only show published featured_pages\r\n\r\n* Create feature flag for support articles (#422)\r\n\r\n* Edit support articles (#416)\r\n\r\n* Use system test rather than features\r\n\r\n* Move remaining admin feature spec to system\r\n\r\n* Allow feature and thumbnail image to be replaced on article\r\n\r\n* also added some system tests\r\n\r\n* Add image validations\r\n\r\n* Add cancel button\r\n\r\n* Cancel button for article form\r\n\r\n* error messages for images\r\n* correct typo\r\n\r\n* Order articles on listing by title\r\n\r\n* show published date on listing, for now created at is used\r\n\r\n* Rubocop prefers nested conditionals\r\n\r\n* Add alternate text for images\r\n\r\n* Update errors, correct dom id for article index page\r\n\r\n* Use change table bulk true\r\n\r\n* Heading here is redundant\r\n\r\n* Consistent back links\r\n\r\n* Add alt text, author and published at columns\r\n\r\n* Move back to features\r\n\r\nSystem tests passed locally but failed when run on github\r\nRemoving for now, but needs investigation\r\n\r\n* Add CMS app to PR message\r\n\r\n* Javascript does not appear to work on specs run through CI\r\n\r\n* This test, which checks that the preview is being\r\nmodified as the markdown is updated does not work\r\nwhen run on github\r\n\r\n* Remove unecessary attributes from test\r\n\r\n* Feature should be typed\r\n\r\nCo-authored-by: Guy Roberts <groberts2001@hotmail.com>","tree":{"sha":"732dc7638ff940cce27be8504ad469018acc307a","url":"https://api.github.com/repos/DFE-Digital/early-years-foundation-reform/git/trees/732dc7638ff940cce27be8504ad469018acc307a"},"url":"https://api.github.com/repos/DFE-Digital/early-years-foundation-reform/git/commits/3cd65e708fda236ed92df0405bd09bfbade89d37","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhVecVCRBK7hj4Ov3rIwAAkakIAIFViQnKiksyyBrTr7KLCwRT\nBCrITpR9Gl5Ie7lAx1xoXbtUp6/z2qIdBvNUjnHN3KbwUZgo5IyIs+2ORSeQjGAU\n+K1vzeaoq0bR71XJq1YC5usxfkJZKhvn4JJ8OUGvjMbeVfx5FqseSDUq47R0sPEg\n/REYpMDKXarj+FP+TEKxvKiUR/MtZtCoRg6SL4e634fgiyey4yDV3ozwAX5xJ7ZH\nc6y9n9n7gB0Zkjjwu/CP9T6m//9hXF/qfbnWXJJA2IlYjKB6hDtH/9cNr7MSLLZN\n9JgVOjLvLi+lqgrCZJ6NF5Syt80bGi+8QZMvSQLh02GkcYsli+8pOR48Sbx3DVQ=\n=5Djl\n-----END PGP SIGNATURE-----\n","payload":"tree 732dc7638ff940cce27be8504ad469018acc307a\nparent 076d184f3bd675b6bdd19eda9e559b8cd7de01ad\nauthor Brett McHargue <ebrett@users.noreply.github.com> 1633019669 +0100\ncommitter GitHub <noreply@github.com> 1633019669 +0100\n\nDevelop (#423)\n\n* Add new deploy scripts for all stages\r\n\r\n* Dev\r\n* Staging - creates and tags with input version\r\n* Production - from image created for staging\r\n* Sandbox\r\n* Review\r\n\r\n* Add development credentials\r\n\r\n* Update review workflow\r\n\r\n* Add destroy Review app workflow\r\n\r\nAlso, fix review app errors\r\n\r\n* Basic article functionality (#396)\r\n\r\n* Update review app workflow\r\n\r\n* Remove old credentials file\r\n\r\n* Update credentials\r\n\r\n* Use rails credentials\r\n\r\n* Use deployed_development environment for DEV space\r\n\r\n* Add logger for debugging\r\n\r\n* Review app uses deployed_development Rails environment\r\n\r\n* Database name needed for deployed_development\r\n\r\n* Use ENV database name\r\n\r\n* Increase app timeout and memory\r\n\r\n* Also for review apps\r\n\r\n* Add support articles to the application separately\r\n\r\n* Add live preview of articles\r\n\r\n* Fix rubocop errors\r\n\r\n* Correct terraform init in destroy workflow\r\n\r\n* Fix rubocop errors\r\n\r\n* Add network policy\r\n\r\n* Remove unnecessary host\r\n\r\n* Hold off on antivirus network policy update\r\n\r\n* Correct name for landing-page-introduction block\r\n\r\nUse underscores and load from locales file\r\n\r\n* Remove unused stuff\r\n\r\n* Add delete of article\r\n\r\n* Cleanup workflows for deploy to dev and review\r\n\r\n* Make notices for articles\r\n\r\n* Cleanup rubocop and remove separate rubocop workflow\r\n\r\n* Add article feature spec\r\n\r\n* Drafts and publishing (#411)\r\n\r\n* Work in progress for versioning pages\r\n\r\n* WIP\r\n\r\n* WIP\r\n\r\n* Work in progress\r\n\r\n* Rubocop\r\n\r\n* Work in progress\r\n\r\n* New migrations. Made some tests pending, fixed others\r\n\r\n* New migrations. Made some tests pending, fixed others\r\n\r\n* Fix merge typo\r\n\r\n* Bello's review tickets (569 - 572)\r\n\r\n* Confirm before clicking on back\r\nDon't delete published page when the last draft is deleted !\r\n\r\n* Added host to config.hosts\r\n\r\n* Confirm before clicking on back\r\nTry to get a review app started\r\n\r\n* Trying to deploy review app\r\n\r\n* Trying to deploy review app\r\n\r\n* Trying to deploy review app\r\n\r\n* Attempt at review app\r\n\r\n* Cause deploy\r\n\r\n* Testing review apps\r\n\r\n* When a page is published, the version it came from is deleted\r\n\r\n* Started spec for drafts\r\n\r\n* Started spec for drafts\r\n\r\n* rubocop\r\n\r\n* Error messages for ContentPage editing\r\n\r\n* 585 - can now edit position of page. Also, AM/PM shown on versions. Versions table columns aligned (#413)\r\n\r\n* 591 and 593 added 404 for unpubished urls (#418)\r\n\r\n* 585 - can now edit position of page. Also, AM/PM shown on versions. Versions table columns aligned\r\n\r\n* updated tests for PR\r\n\r\n* Hide unpublished pages\r\n\r\n* unpublished pages were showing up in the list of featured page children\r\n\r\n* Fixes for 587,589,590,592 - mostly about error messages on ContentPage edit view, breadcrumbs, changing title and a cosmetic issue on that form\r\n\r\n* Fixed breadcrumb on preview page, title now saved correctly\r\n\r\n* ContentPageVersion validates title for format (#421)\r\n\r\n* ContentPageVersion validates title for format\r\n\r\n* Only show published featured_pages\r\n\r\n* Create feature flag for support articles (#422)\r\n\r\n* Edit support articles (#416)\r\n\r\n* Use system test rather than features\r\n\r\n* Move remaining admin feature spec to system\r\n\r\n* Allow feature and thumbnail image to be replaced on article\r\n\r\n* also added some system tests\r\n\r\n* Add image validations\r\n\r\n* Add cancel button\r\n\r\n* Cancel button for article form\r\n\r\n* error messages for images\r\n* correct typo\r\n\r\n* Order articles on listing by title\r\n\r\n* show published date on listing, for now created at is used\r\n\r\n* Rubocop prefers nested conditionals\r\n\r\n* Add alternate text for images\r\n\r\n* Update errors, correct dom id for article index page\r\n\r\n* Use change table bulk true\r\n\r\n* Heading here is redundant\r\n\r\n* Consistent back links\r\n\r\n* Add alt text, author and published at columns\r\n\r\n* Move back to features\r\n\r\nSystem tests passed locally but failed when run on github\r\nRemoving for now, but needs investigation\r\n\r\n* Add CMS app to PR message\r\n\r\n* Javascript does not appear to work on specs run through CI\r\n\r\n* This test, which checks that the preview is being\r\nmodified as the markdown is updated does not work\r\nwhen run on github\r\n\r\n* Remove unecessary attributes from test\r\n\r\n* Feature should be typed\r\n\r\nCo-authored-by: Guy Roberts <groberts2001@hotmail.com>"}},"url":"https://api.github.com/repos/DFE-Digital/early-years-foundation-reform/commits/3cd65e708fda236ed92df0405bd09bfbade89d37","html_url":"https://github.com/DFE-Digital/early-years-foundation-reform/commit/3cd65e708fda236ed92df0405bd09bfbade89d37","comments_url":"https://api.github.com/repos/DFE-Digital/early-years-foundation-reform/commits/3cd65e708fda236ed92df0405bd09bfbade89d37/comments","author":{"login":"ebrett","id":6605,"node_id":"MDQ6VXNlcjY2MDU=","avatar_url":"https://avatars.githubusercontent.com/u/6605?v=4","gravatar_id":"","url":"https://api.github.com/users/ebrett","html_url":"https://github.com/ebrett","followers_url":"https://api.github.com/users/ebrett/followers","following_url":"https://api.github.com/users/ebrett/following{/other_user}","gists_url":"https://api.github.com/users/ebrett/gists{/gist_id}","starred_url":"https://api.github.com/users/ebrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebrett/subscriptions","organizations_url":"https://api.github.com/users/ebrett/orgs","repos_url":"https://api.github.com/users/ebrett/repos","events_url":"https://api.github.com/users/ebrett/events{/privacy}","received_events_url":"https://api.github.com/users/ebrett/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"076d184f3bd675b6bdd19eda9e559b8cd7de01ad","url":"https://api.github.com/repos/DFE-Digital/early-years-foundation-reform/commits/076d184f3bd675b6bdd19eda9e559b8cd7de01ad","html_url":"https://github.com/DFE-Digital/early-years-foundation-reform/commit/076d184f3bd675b6bdd19eda9e559b8cd7de01ad"}]}]