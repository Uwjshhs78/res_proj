[{"sha":"13625f817f33679ec9ba6ca10209454c744def78","node_id":"C_kwDOGBoHsdoAKDEzNjI1ZjgxN2YzMzY3OWVjOWJhNmNhMTAyMDk0NTRjNzQ0ZGVmNzg","commit":{"author":{"name":"Dávid Lantos","email":"david.lantos@digital.justice.gov.uk","date":"2021-11-02T08:34:10Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-11-02T08:34:10Z"},"message":"Use the Alpine image to reduce size and fix security (#19)\n\nThe current high and critical image OS vulnerabilities are:\r\n\r\n```\r\n$ trivy image --severity HIGH,CRITICAL quay.io/hmpps/hmpps-delius-interventions-event-listener\r\n{snip}\r\nquay.io/hmpps/hmpps-delius-interventions-event-listener (debian 11.1)\r\n=====================================================================\r\nTotal: 6 (HIGH: 2, CRITICAL: 4)\r\n{snip}\r\n```\r\n\r\nThis is _not_ reported however, as our nightly trivy scan implement\r\n`--ignore-unfixed`, which is basically hiding all of these\r\n\r\nThis image has _no_ OS vulnerabilities and about half the size:\r\n```\r\n$ docker build . --tag=local.event-listener\r\n{snip}\r\n\r\n$ trivy image --severity HIGH,CRITICAL local.event-listener\r\nlocal.event-listener (alpine 3.14.2)\r\n====================================\r\nTotal: 0 (HIGH: 0, CRITICAL: 0)\r\n```\r\n\r\nIt does _not_ fix the Java vulnerabilities flagged up by Trivy though\r\n\r\nCo-authored-by: mahalrmoj <78814787+mahalrmoj@users.noreply.github.com>","tree":{"sha":"a27366cb0a8d901e898011cfbffe4df839bf2abb","url":"https://api.github.com/repos/ministryofjustice/hmpps-delius-interventions-event-listener/git/trees/a27366cb0a8d901e898011cfbffe4df839bf2abb"},"url":"https://api.github.com/repos/ministryofjustice/hmpps-delius-interventions-event-listener/git/commits/13625f817f33679ec9ba6ca10209454c744def78","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhgPgCCRBK7hj4Ov3rIwAAOaQIAB0nq4U7HwXcMf0XduF5ujyp\ncJ4bxMBN2D5ytKvchhoygpWq+wLeN5RFerRmr/k6QfLLSAQGSwe0xC8IJN2lu/v5\nxZy7n7ybbY6y5JO/cG4sXrWe774FPaDLCvwDXs8u+6O/bX4mUY13AzVL/gxtrJS+\nmZvhLBWrZekLmrzS0N/iF70Y8aVebfEdPAk8fhbXiQ1oZ8vzQbcqSKWNHDmLzj1O\nuoH0RTndok5w/Aj+oP2aP9ELr1A+pTdgKPDY+sjT37TYJhTyZRFzSQQr5tejcJcF\nymydOKPBg9Ie0Tyhf2xJfB8K780cYPt44gDr/u7+WHBSeiuWWF8b5AxYSqzSIAY=\n=M2qf\n-----END PGP SIGNATURE-----\n","payload":"tree a27366cb0a8d901e898011cfbffe4df839bf2abb\nparent 391ebb71a06042e711a9c86ac35e5d4de55b1d50\nauthor Dávid Lantos <david.lantos@digital.justice.gov.uk> 1635842050 +0000\ncommitter GitHub <noreply@github.com> 1635842050 +0000\n\nUse the Alpine image to reduce size and fix security (#19)\n\nThe current high and critical image OS vulnerabilities are:\r\n\r\n```\r\n$ trivy image --severity HIGH,CRITICAL quay.io/hmpps/hmpps-delius-interventions-event-listener\r\n{snip}\r\nquay.io/hmpps/hmpps-delius-interventions-event-listener (debian 11.1)\r\n=====================================================================\r\nTotal: 6 (HIGH: 2, CRITICAL: 4)\r\n{snip}\r\n```\r\n\r\nThis is _not_ reported however, as our nightly trivy scan implement\r\n`--ignore-unfixed`, which is basically hiding all of these\r\n\r\nThis image has _no_ OS vulnerabilities and about half the size:\r\n```\r\n$ docker build . --tag=local.event-listener\r\n{snip}\r\n\r\n$ trivy image --severity HIGH,CRITICAL local.event-listener\r\nlocal.event-listener (alpine 3.14.2)\r\n====================================\r\nTotal: 0 (HIGH: 0, CRITICAL: 0)\r\n```\r\n\r\nIt does _not_ fix the Java vulnerabilities flagged up by Trivy though\r\n\r\nCo-authored-by: mahalrmoj <78814787+mahalrmoj@users.noreply.github.com>"}},"url":"https://api.github.com/repos/ministryofjustice/hmpps-delius-interventions-event-listener/commits/13625f817f33679ec9ba6ca10209454c744def78","html_url":"https://github.com/ministryofjustice/hmpps-delius-interventions-event-listener/commit/13625f817f33679ec9ba6ca10209454c744def78","comments_url":"https://api.github.com/repos/ministryofjustice/hmpps-delius-interventions-event-listener/commits/13625f817f33679ec9ba6ca10209454c744def78/comments","author":{"login":"sldblog","id":1526295,"node_id":"MDQ6VXNlcjE1MjYyOTU=","avatar_url":"https://avatars.githubusercontent.com/u/1526295?v=4","gravatar_id":"","url":"https://api.github.com/users/sldblog","html_url":"https://github.com/sldblog","followers_url":"https://api.github.com/users/sldblog/followers","following_url":"https://api.github.com/users/sldblog/following{/other_user}","gists_url":"https://api.github.com/users/sldblog/gists{/gist_id}","starred_url":"https://api.github.com/users/sldblog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sldblog/subscriptions","organizations_url":"https://api.github.com/users/sldblog/orgs","repos_url":"https://api.github.com/users/sldblog/repos","events_url":"https://api.github.com/users/sldblog/events{/privacy}","received_events_url":"https://api.github.com/users/sldblog/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"391ebb71a06042e711a9c86ac35e5d4de55b1d50","url":"https://api.github.com/repos/ministryofjustice/hmpps-delius-interventions-event-listener/commits/391ebb71a06042e711a9c86ac35e5d4de55b1d50","html_url":"https://github.com/ministryofjustice/hmpps-delius-interventions-event-listener/commit/391ebb71a06042e711a9c86ac35e5d4de55b1d50"}]}]