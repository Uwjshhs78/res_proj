[{"sha":"f026da9f1af84b3fc859689291b26b8fe76802fb","node_id":"MDY6Q29tbWl0MjY4NzU3NDYzOmYwMjZkYTlmMWFmODRiM2ZjODU5Njg5MjkxYjI2YjhmZTc2ODAyZmI=","commit":{"author":{"name":"Akihiro Suda","email":"akihiro.suda.cz@hco.ntt.co.jp","date":"2020-05-19T02:56:29Z"},"committer":{"name":"Akihiro Suda","email":"akihiro.suda.cz@hco.ntt.co.jp","date":"2020-05-19T23:05:32Z"},"message":"Dockerfile: fix linking newuidmap and newgidmap (partially reverts #1405)\n\n* Existing releases v0.3.0...v0.7.1 use newuidmap dynamically linked with musl\n\n* #1405 attempted to link newuidmap statically with glibc, but it was actually dynamically linked by accident and was never used as the external base.\nSwitching from musl (Alpine) to glibc (Debian) is just because we don't have `cross.sh` for Alpine.\nWe could fix the script to link the binary statically, but statically linked binary doesn't work on Alpine because of \"Cannot determine your user name.\" error.\n\n* This commit reverts #1405 for newuidmap, and build the stage with `--platform=$TARGETPLATFORM`.\nIn future we should port over `cross.sh` to Alpine and use `--platform=$BUILDPLATFORM`.\n\nSigned-off-by: Akihiro Suda <akihiro.suda.cz@hco.ntt.co.jp>","tree":{"sha":"117acc4c84e22d23c773492be1e6c1a23ce459d3","url":"https://api.github.com/repos/hixio-mh/buildkit/git/trees/117acc4c84e22d23c773492be1e6c1a23ce459d3"},"url":"https://api.github.com/repos/hixio-mh/buildkit/git/commits/f026da9f1af84b3fc859689291b26b8fe76802fb","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/hixio-mh/buildkit/commits/f026da9f1af84b3fc859689291b26b8fe76802fb","html_url":"https://github.com/hixio-mh/buildkit/commit/f026da9f1af84b3fc859689291b26b8fe76802fb","comments_url":"https://api.github.com/repos/hixio-mh/buildkit/commits/f026da9f1af84b3fc859689291b26b8fe76802fb/comments","author":{"login":"AkihiroSuda","id":9248427,"node_id":"MDQ6VXNlcjkyNDg0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9248427?v=4","gravatar_id":"","url":"https://api.github.com/users/AkihiroSuda","html_url":"https://github.com/AkihiroSuda","followers_url":"https://api.github.com/users/AkihiroSuda/followers","following_url":"https://api.github.com/users/AkihiroSuda/following{/other_user}","gists_url":"https://api.github.com/users/AkihiroSuda/gists{/gist_id}","starred_url":"https://api.github.com/users/AkihiroSuda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkihiroSuda/subscriptions","organizations_url":"https://api.github.com/users/AkihiroSuda/orgs","repos_url":"https://api.github.com/users/AkihiroSuda/repos","events_url":"https://api.github.com/users/AkihiroSuda/events{/privacy}","received_events_url":"https://api.github.com/users/AkihiroSuda/received_events","type":"User","site_admin":false},"committer":{"login":"AkihiroSuda","id":9248427,"node_id":"MDQ6VXNlcjkyNDg0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9248427?v=4","gravatar_id":"","url":"https://api.github.com/users/AkihiroSuda","html_url":"https://github.com/AkihiroSuda","followers_url":"https://api.github.com/users/AkihiroSuda/followers","following_url":"https://api.github.com/users/AkihiroSuda/following{/other_user}","gists_url":"https://api.github.com/users/AkihiroSuda/gists{/gist_id}","starred_url":"https://api.github.com/users/AkihiroSuda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkihiroSuda/subscriptions","organizations_url":"https://api.github.com/users/AkihiroSuda/orgs","repos_url":"https://api.github.com/users/AkihiroSuda/repos","events_url":"https://api.github.com/users/AkihiroSuda/events{/privacy}","received_events_url":"https://api.github.com/users/AkihiroSuda/received_events","type":"User","site_admin":false},"parents":[{"sha":"9380d34799cb500b320d47415da52f9fc2232a59","url":"https://api.github.com/repos/hixio-mh/buildkit/commits/9380d34799cb500b320d47415da52f9fc2232a59","html_url":"https://github.com/hixio-mh/buildkit/commit/9380d34799cb500b320d47415da52f9fc2232a59"}]}]