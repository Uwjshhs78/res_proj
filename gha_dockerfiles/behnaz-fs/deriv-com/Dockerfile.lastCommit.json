[{"sha":"73abc1603c7f47c01945c15a6cafefe3817a7122","node_id":"MDY6Q29tbWl0MjU5NTk1OTQ4OjczYWJjMTYwM2M3ZjQ3YzAxOTQ1YzE1YTZjYWZlZmUzODE3YTcxMjI=","commit":{"author":{"name":"shudarshon-binary","email":"59427711+shudarshon-binary@users.noreply.github.com","date":"2020-03-27T05:52:14Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-03-27T05:52:14Z"},"message":"chaks/circle-docker: added circleci pipeline with Dockerfile and nginx config (#490)\n\n* add: added nginx configuration with eu visitor redirection\r\n\r\n* add: added Dockerfile\r\n\r\n* add: added circle ci config\r\n\r\n* test: testing circle ci dev branch config\r\n\r\n* edit: using <npm install> command instead of <npm ci>\r\n\r\n* edit: updated circle ci node image version\r\n\r\n* edit: changed docker image to build\r\n\r\n* edit: edited circle ci docker image tag with lts-stretch in test job\r\n\r\n* edit: edited docker image tag to 12.4-stretch in test job\r\n\r\n* edit: using <ci> as npm arguments instead of <install>\r\n\r\n* edit: edited circle ci docker image tag to <node:12.4-stretch> in all jobs\r\n\r\n* edut: updated docker iamge tag to <10.18.1-stretch> in test job\r\n\r\n* edit: disabled restoring cache for npm\r\n\r\n* edit: disabled git+npm cache restore and save\r\n\r\n* edit: added environment variable in docker configuration under <test> job\r\n\r\n* fix: fix yaml typo\r\n\r\n* edit: increased node memory for running build\r\n\r\n* edit: changed image version and max memory amount\r\n\r\n* test: testing build by changing node image tag\r\n\r\n* test: testing with new docker tag <9.8.0-stretch> and npm <ci> command\r\n\r\n* test: testing with lts docker image\r\n\r\n* test: enabled git & npm caching and changed production job context name\r\n\r\n* edit: edited NODE_OPTIONS memory amount\r\n\r\n* changed npm <install> to npm <ci>\r\n\r\n* edit: removed <gatsby clean> from package.json\r\n\r\n* edit: removed test from build script\r\n\r\n* edit: removed parallel workkers from minimizer\r\n\r\n* changed max memory to 4096 and added GATSBY_CPU_COUNT env variable\r\n\r\n* add: gatsby env variable to cpu count 2\r\n\r\n* edit: added condition for optimization config\r\n\r\n* edit: increase worker count for minimizer\r\n\r\n* edit: rewrite pipeline to deploy with master branch merge instead of tagging\r\n\r\n* edit: addted test workflow\r\n\r\n* fix: fixed context name issue in test workflow\r\n\r\n* edit: removed NODE_OPTION memmory limit variable\r\n\r\n* edit: removed unnecessary steps from <dev> workflow\r\n\r\n* edit: removed any branch circle build configuration\r\n\r\n* edit: disabled EU visitor force redirection\r\n\r\n* edit: added staging deployment option with <dev> branch\r\n\r\n* edit: allowed circle ci to additionaly tag and push image to <latest> tag\r\n\r\n* edit: allowed deriv com nginx config to allow EU visitor redirection\r\n\r\n* edit: edit ci config to allow build in circle ci regardless of branch filters\r\n\r\n* test: testing docker image push with multi tag\r\n\r\n* test: testing docker image push with multi tag\r\n\r\n* test: testing docker multitagged image push\r\n\r\n* test: testing docker multitagged image push\r\n\r\n* test: testing docker image tagging\r\n\r\n* test: testing docker image tagging\r\n\r\n* test: testing circle ci tagging\r\n\r\n* test: testing circle ci tagging\r\n\r\n* fix: allowed circle ci to upload multu tagged docker image\r\n\r\n* edit: allowed septarate <latest-staging> for staging branch docker images\r\n\r\n* edit: enabled <dev> branch based workflow\r\n\r\n* edit: edited circle ci config to allow tag based release\r\n\r\n* test: testing with personal account context name\r\n\r\n* edit: allowed deploy job dependent on build job\r\n\r\n* edit: allowed actual context name for build+deployment\r\n\r\n* add: added release guideline in readme\r\n\r\n* add: added release guideline in readme\r\n\r\nCo-authored-by: Ashkan <ashkanx@users.noreply.github.com>\r\nCo-authored-by: oskar-binary <53067656+oskar-binary@users.noreply.github.com>\r\nCo-authored-by: Mustofa Ghaleb Amami (Front End) <52783019+mustofa-binary@users.noreply.github.com>\r\nCo-authored-by: Apoorv Joshi <apoorv@binary.com>\r\nCo-authored-by: Jean-Yves Sireau <jy@binary.com>","tree":{"sha":"7baed9593e0180135fac0f7947f019bc1ceb109b","url":"https://api.github.com/repos/behnaz-fs/deriv-com/git/trees/7baed9593e0180135fac0f7947f019bc1ceb109b"},"url":"https://api.github.com/repos/behnaz-fs/deriv-com/git/commits/73abc1603c7f47c01945c15a6cafefe3817a7122","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJefZSOCRBK7hj4Ov3rIwAAdHIIAKCYGdWOOmtQ4U8cHSoFKVAx\nVPzrE1RwwcuJ57XknqbZxAAl2uGm1aOi6M3cRjna4cyQTzg27+ITurgsFcbmOS7c\nygAWqV+0IAKLDDEZ4km2NObXKvK9nuzCb1EmpSBh7uXB+e3WB7HsakGvzZyEiYDO\nwass3oAj6e6v7fVWwTHGfhunbozgRsV0PfWsPGnPb1KT2UMcYMA2CqFJUORcQ5ei\n5GCy2AZ79eZF5Lf4Pak5k4dkP68qQT3NaUnkhhsIjXbn/RE8b0taWWp5U3n9F/WL\np1clihU/Ll1CBe5Ta0pjaga/WMfqYzR1KA/OPaxhVoTfqwikbKfpJ13XQnVdZ5U=\n=WeIn\n-----END PGP SIGNATURE-----\n","payload":"tree 7baed9593e0180135fac0f7947f019bc1ceb109b\nparent 7c0df0e8e3f811612f57e06f7e30cd423a1b8b6d\nauthor shudarshon-binary <59427711+shudarshon-binary@users.noreply.github.com> 1585288334 +0800\ncommitter GitHub <noreply@github.com> 1585288334 +0800\n\nchaks/circle-docker: added circleci pipeline with Dockerfile and nginx config (#490)\n\n* add: added nginx configuration with eu visitor redirection\r\n\r\n* add: added Dockerfile\r\n\r\n* add: added circle ci config\r\n\r\n* test: testing circle ci dev branch config\r\n\r\n* edit: using <npm install> command instead of <npm ci>\r\n\r\n* edit: updated circle ci node image version\r\n\r\n* edit: changed docker image to build\r\n\r\n* edit: edited circle ci docker image tag with lts-stretch in test job\r\n\r\n* edit: edited docker image tag to 12.4-stretch in test job\r\n\r\n* edit: using <ci> as npm arguments instead of <install>\r\n\r\n* edit: edited circle ci docker image tag to <node:12.4-stretch> in all jobs\r\n\r\n* edut: updated docker iamge tag to <10.18.1-stretch> in test job\r\n\r\n* edit: disabled restoring cache for npm\r\n\r\n* edit: disabled git+npm cache restore and save\r\n\r\n* edit: added environment variable in docker configuration under <test> job\r\n\r\n* fix: fix yaml typo\r\n\r\n* edit: increased node memory for running build\r\n\r\n* edit: changed image version and max memory amount\r\n\r\n* test: testing build by changing node image tag\r\n\r\n* test: testing with new docker tag <9.8.0-stretch> and npm <ci> command\r\n\r\n* test: testing with lts docker image\r\n\r\n* test: enabled git & npm caching and changed production job context name\r\n\r\n* edit: edited NODE_OPTIONS memory amount\r\n\r\n* changed npm <install> to npm <ci>\r\n\r\n* edit: removed <gatsby clean> from package.json\r\n\r\n* edit: removed test from build script\r\n\r\n* edit: removed parallel workkers from minimizer\r\n\r\n* changed max memory to 4096 and added GATSBY_CPU_COUNT env variable\r\n\r\n* add: gatsby env variable to cpu count 2\r\n\r\n* edit: added condition for optimization config\r\n\r\n* edit: increase worker count for minimizer\r\n\r\n* edit: rewrite pipeline to deploy with master branch merge instead of tagging\r\n\r\n* edit: addted test workflow\r\n\r\n* fix: fixed context name issue in test workflow\r\n\r\n* edit: removed NODE_OPTION memmory limit variable\r\n\r\n* edit: removed unnecessary steps from <dev> workflow\r\n\r\n* edit: removed any branch circle build configuration\r\n\r\n* edit: disabled EU visitor force redirection\r\n\r\n* edit: added staging deployment option with <dev> branch\r\n\r\n* edit: allowed circle ci to additionaly tag and push image to <latest> tag\r\n\r\n* edit: allowed deriv com nginx config to allow EU visitor redirection\r\n\r\n* edit: edit ci config to allow build in circle ci regardless of branch filters\r\n\r\n* test: testing docker image push with multi tag\r\n\r\n* test: testing docker image push with multi tag\r\n\r\n* test: testing docker multitagged image push\r\n\r\n* test: testing docker multitagged image push\r\n\r\n* test: testing docker image tagging\r\n\r\n* test: testing docker image tagging\r\n\r\n* test: testing circle ci tagging\r\n\r\n* test: testing circle ci tagging\r\n\r\n* fix: allowed circle ci to upload multu tagged docker image\r\n\r\n* edit: allowed septarate <latest-staging> for staging branch docker images\r\n\r\n* edit: enabled <dev> branch based workflow\r\n\r\n* edit: edited circle ci config to allow tag based release\r\n\r\n* test: testing with personal account context name\r\n\r\n* edit: allowed deploy job dependent on build job\r\n\r\n* edit: allowed actual context name for build+deployment\r\n\r\n* add: added release guideline in readme\r\n\r\n* add: added release guideline in readme\r\n\r\nCo-authored-by: Ashkan <ashkanx@users.noreply.github.com>\r\nCo-authored-by: oskar-binary <53067656+oskar-binary@users.noreply.github.com>\r\nCo-authored-by: Mustofa Ghaleb Amami (Front End) <52783019+mustofa-binary@users.noreply.github.com>\r\nCo-authored-by: Apoorv Joshi <apoorv@binary.com>\r\nCo-authored-by: Jean-Yves Sireau <jy@binary.com>"}},"url":"https://api.github.com/repos/behnaz-fs/deriv-com/commits/73abc1603c7f47c01945c15a6cafefe3817a7122","html_url":"https://github.com/behnaz-fs/deriv-com/commit/73abc1603c7f47c01945c15a6cafefe3817a7122","comments_url":"https://api.github.com/repos/behnaz-fs/deriv-com/commits/73abc1603c7f47c01945c15a6cafefe3817a7122/comments","author":{"login":"shudarshon-binary","id":59427711,"node_id":"MDQ6VXNlcjU5NDI3NzEx","avatar_url":"https://avatars.githubusercontent.com/u/59427711?v=4","gravatar_id":"","url":"https://api.github.com/users/shudarshon-binary","html_url":"https://github.com/shudarshon-binary","followers_url":"https://api.github.com/users/shudarshon-binary/followers","following_url":"https://api.github.com/users/shudarshon-binary/following{/other_user}","gists_url":"https://api.github.com/users/shudarshon-binary/gists{/gist_id}","starred_url":"https://api.github.com/users/shudarshon-binary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shudarshon-binary/subscriptions","organizations_url":"https://api.github.com/users/shudarshon-binary/orgs","repos_url":"https://api.github.com/users/shudarshon-binary/repos","events_url":"https://api.github.com/users/shudarshon-binary/events{/privacy}","received_events_url":"https://api.github.com/users/shudarshon-binary/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"7c0df0e8e3f811612f57e06f7e30cd423a1b8b6d","url":"https://api.github.com/repos/behnaz-fs/deriv-com/commits/7c0df0e8e3f811612f57e06f7e30cd423a1b8b6d","html_url":"https://github.com/behnaz-fs/deriv-com/commit/7c0df0e8e3f811612f57e06f7e30cd423a1b8b6d"}]}]