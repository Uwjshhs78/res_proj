[{"sha":"ac6e1dc0509c80acdd372cb2ae3550789f5ff17c","node_id":"C_kwDOEp4t2doAKGFjNmUxZGMwNTA5YzgwYWNkZDM3MmNiMmFlMzU1MDc4OWY1ZmYxN2M","commit":{"author":{"name":"ao508","email":"15623749+ao508@users.noreply.github.com","date":"2021-10-13T20:55:46Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-10-13T20:55:46Z"},"message":"Request-level and Sample-level Metadata Updates (#369) (#415)\n\nUpdated MetaDB Messaging library dependency.\r\n\r\nUpdated MetaDB Common dependency.\r\n\r\nUpdated MetaDB schema version: v1.1\r\n\r\nUpdated Dockerfile (skips test on docker build)\r\n\r\nRequest-level and Sample-level metadata updates are now supported\r\n- Updated models and request-/sample-repositories and persistence layers\r\n- Also added patient service impl class\r\n\r\nMessage handler:\r\n- subscribes to 2 new topics which receive updates for request-level and\r\nsample-level metadata updates\r\n- if messages contain updates (relative to whatever is already persisted\r\nin the graph db for a given request or sample) then the updates\r\n are persisted to the database and published to their respective request-/sample-\r\n level updates publisher topics\r\n\r\nAdded unit tests for sample and request-level metadata updates.\r\n\r\nSupport embedded Neo4j database for tests (#375)\r\n- Mock Request JSON data files relocated to service/src/test/resources\r\n- Added util class for loading/parsing mock request json files and filedata\r\n- Added test application class with some beans/mock beans for test app resources\r\n\r\nResolves issues w/duplicate patient nodes being persisted to database\r\n- Added mock request data having a new request, new samples, and a single (shared)\r\n patient amongst the samples\r\n  - before bug fix the patient node would have been duplicated the same number\r\n  of times as the number of samples in the request that the patient had\r\n\r\nBug fixes during dev server deployment:\r\n- Boolean cast as string error in MetadbRequest\r\n- NPE exception during request handling\r\n- unknown sample properties\r\n\r\nCo-authored-by: Divya Madala <71040191+divyamadala30@users.noreply.github.com>\r\nCo-authored-by: Angelica Ochoa <15623749+ao508@users.noreply.github.com>\r\n\r\nSigned-off-by: Angelica Ochoa <15623749+ao508@users.noreply.github.com>","tree":{"sha":"149e86bbac07dd54ce5ec254027d6d936cb43c4e","url":"https://api.github.com/repos/ao508/cmo-metadb/git/trees/149e86bbac07dd54ce5ec254027d6d936cb43c4e"},"url":"https://api.github.com/repos/ao508/cmo-metadb/git/commits/ac6e1dc0509c80acdd372cb2ae3550789f5ff17c","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhZ0fSCRBK7hj4Ov3rIwAABhkIAHz+YA4oKBGy8gRZBdATw+Gn\n2WZ5dEybJtzuwrBMd2cquYlQBTDkRdLspIuxos1RepEfxsR1LLiKkeSGMhNlvW62\naDEEjzloePLzKX4F2ZpmeJiNOpwWE/E1KkLwvbDUSfcDfgq3oHZObM2FfFlyx9sT\nfSFwSkoxxc243HaxsL3oExPSJqJFaxcCzG5nePcYznZud0SDOdo/92JjK+02b1AZ\n0UwOoOSulYQRRVIv/tjv5PhAU40FkMVUZGQJCvWgnAhDi51uyVHfGnq6tESuUxXq\npuOtJoNuSEdirhO4eCOK2ZQzMjpmhFflvnZahsfqeLXTkgoROXJvBAbxBVmh5KI=\n=3/iC\n-----END PGP SIGNATURE-----\n","payload":"tree 149e86bbac07dd54ce5ec254027d6d936cb43c4e\nparent 9390880c499bae935f1cd7dd45a7fc0190c0a722\nauthor ao508 <15623749+ao508@users.noreply.github.com> 1634158546 -0400\ncommitter GitHub <noreply@github.com> 1634158546 -0400\n\nRequest-level and Sample-level Metadata Updates (#369) (#415)\n\nUpdated MetaDB Messaging library dependency.\r\n\r\nUpdated MetaDB Common dependency.\r\n\r\nUpdated MetaDB schema version: v1.1\r\n\r\nUpdated Dockerfile (skips test on docker build)\r\n\r\nRequest-level and Sample-level metadata updates are now supported\r\n- Updated models and request-/sample-repositories and persistence layers\r\n- Also added patient service impl class\r\n\r\nMessage handler:\r\n- subscribes to 2 new topics which receive updates for request-level and\r\nsample-level metadata updates\r\n- if messages contain updates (relative to whatever is already persisted\r\nin the graph db for a given request or sample) then the updates\r\n are persisted to the database and published to their respective request-/sample-\r\n level updates publisher topics\r\n\r\nAdded unit tests for sample and request-level metadata updates.\r\n\r\nSupport embedded Neo4j database for tests (#375)\r\n- Mock Request JSON data files relocated to service/src/test/resources\r\n- Added util class for loading/parsing mock request json files and filedata\r\n- Added test application class with some beans/mock beans for test app resources\r\n\r\nResolves issues w/duplicate patient nodes being persisted to database\r\n- Added mock request data having a new request, new samples, and a single (shared)\r\n patient amongst the samples\r\n  - before bug fix the patient node would have been duplicated the same number\r\n  of times as the number of samples in the request that the patient had\r\n\r\nBug fixes during dev server deployment:\r\n- Boolean cast as string error in MetadbRequest\r\n- NPE exception during request handling\r\n- unknown sample properties\r\n\r\nCo-authored-by: Divya Madala <71040191+divyamadala30@users.noreply.github.com>\r\nCo-authored-by: Angelica Ochoa <15623749+ao508@users.noreply.github.com>\r\n\r\nSigned-off-by: Angelica Ochoa <15623749+ao508@users.noreply.github.com>"}},"url":"https://api.github.com/repos/ao508/cmo-metadb/commits/ac6e1dc0509c80acdd372cb2ae3550789f5ff17c","html_url":"https://github.com/ao508/cmo-metadb/commit/ac6e1dc0509c80acdd372cb2ae3550789f5ff17c","comments_url":"https://api.github.com/repos/ao508/cmo-metadb/commits/ac6e1dc0509c80acdd372cb2ae3550789f5ff17c/comments","author":{"login":"ao508","id":15623749,"node_id":"MDQ6VXNlcjE1NjIzNzQ5","avatar_url":"https://avatars.githubusercontent.com/u/15623749?v=4","gravatar_id":"","url":"https://api.github.com/users/ao508","html_url":"https://github.com/ao508","followers_url":"https://api.github.com/users/ao508/followers","following_url":"https://api.github.com/users/ao508/following{/other_user}","gists_url":"https://api.github.com/users/ao508/gists{/gist_id}","starred_url":"https://api.github.com/users/ao508/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ao508/subscriptions","organizations_url":"https://api.github.com/users/ao508/orgs","repos_url":"https://api.github.com/users/ao508/repos","events_url":"https://api.github.com/users/ao508/events{/privacy}","received_events_url":"https://api.github.com/users/ao508/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"9390880c499bae935f1cd7dd45a7fc0190c0a722","url":"https://api.github.com/repos/ao508/cmo-metadb/commits/9390880c499bae935f1cd7dd45a7fc0190c0a722","html_url":"https://github.com/ao508/cmo-metadb/commit/9390880c499bae935f1cd7dd45a7fc0190c0a722"}]}]