[{"sha":"18997446d557ede78262dc9c8580b819fd543efb","node_id":"C_kwDOFXLvc9oAKDE4OTk3NDQ2ZDU1N2VkZTc4MjYyZGM5Yzg1ODBiODE5ZmQ1NDNlZmI","commit":{"author":{"name":"Campbell Allen","email":"campbell.allen@gmail.com","date":"2021-10-01T12:00:26Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-10-01T12:00:26Z"},"message":"add a BUILD_DATE arg to invalidate the image layer cache (#5)\n\n* add a BUILD_DATE arg to invalidate the image layer cache\r\n\r\nensure we can rebuild with remote source changes and not reuse local image cache.\r\n\r\nDo so by injecting a date time variable into the build and invalidate the cache below it's use, https://docs.docker.com/engine/reference/builder/#impact-on-build-caching\r\n\r\n* inject JOB_TIME env var as BUILD_TIME arg for image\r\n\r\n* use ENV var to invalidate the cache","tree":{"sha":"356876f43acf552a5f924324b9616b0e8b2a65cf","url":"https://api.github.com/repos/zooniverse/subject-set-search-api/git/trees/356876f43acf552a5f924324b9616b0e8b2a65cf"},"url":"https://api.github.com/repos/zooniverse/subject-set-search-api/git/commits/18997446d557ede78262dc9c8580b819fd543efb","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhVvhaCRBK7hj4Ov3rIwAAnYQIAEiKXxjId1pW/wMcjO1BmBSs\nDzjlGDMC82u18zgEQNciyznHbDoPdDYlPSLVwmz8UpvIgDpxoekVt13amhjSdBW1\nEFjtaLGu0vPdeiCDyqJxgAWbenAf6hK61UVSq7zzOTAItUJN2Hl74hEYfxUWYIvz\nwEgU/Tlrq5zS1zIBZAac8SrpP1ZeIc3CJTam/DezjpqSpEidf4N6oEI4zm+5QBHX\njEPa5t/EOK7sxO9g3zmNi4RmH8hWjRviC8F5PPA/S99F/b1W6BZ7nydJAfCDabHZ\n6agSMjdu+dYjBOlE8Lq3x8TPJLVhl534eERhTo92i44NERCZWx33HC4EPrxVaPQ=\n=qjyr\n-----END PGP SIGNATURE-----\n","payload":"tree 356876f43acf552a5f924324b9616b0e8b2a65cf\nparent 1ecc3c51074be27aa452b6d5cc7fe3a746830615\nauthor Campbell Allen <campbell.allen@gmail.com> 1633089626 +0100\ncommitter GitHub <noreply@github.com> 1633089626 +0100\n\nadd a BUILD_DATE arg to invalidate the image layer cache (#5)\n\n* add a BUILD_DATE arg to invalidate the image layer cache\r\n\r\nensure we can rebuild with remote source changes and not reuse local image cache.\r\n\r\nDo so by injecting a date time variable into the build and invalidate the cache below it's use, https://docs.docker.com/engine/reference/builder/#impact-on-build-caching\r\n\r\n* inject JOB_TIME env var as BUILD_TIME arg for image\r\n\r\n* use ENV var to invalidate the cache"}},"url":"https://api.github.com/repos/zooniverse/subject-set-search-api/commits/18997446d557ede78262dc9c8580b819fd543efb","html_url":"https://github.com/zooniverse/subject-set-search-api/commit/18997446d557ede78262dc9c8580b819fd543efb","comments_url":"https://api.github.com/repos/zooniverse/subject-set-search-api/commits/18997446d557ede78262dc9c8580b819fd543efb/comments","author":{"login":"camallen","id":295329,"node_id":"MDQ6VXNlcjI5NTMyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/295329?v=4","gravatar_id":"","url":"https://api.github.com/users/camallen","html_url":"https://github.com/camallen","followers_url":"https://api.github.com/users/camallen/followers","following_url":"https://api.github.com/users/camallen/following{/other_user}","gists_url":"https://api.github.com/users/camallen/gists{/gist_id}","starred_url":"https://api.github.com/users/camallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/camallen/subscriptions","organizations_url":"https://api.github.com/users/camallen/orgs","repos_url":"https://api.github.com/users/camallen/repos","events_url":"https://api.github.com/users/camallen/events{/privacy}","received_events_url":"https://api.github.com/users/camallen/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"1ecc3c51074be27aa452b6d5cc7fe3a746830615","url":"https://api.github.com/repos/zooniverse/subject-set-search-api/commits/1ecc3c51074be27aa452b6d5cc7fe3a746830615","html_url":"https://github.com/zooniverse/subject-set-search-api/commit/1ecc3c51074be27aa452b6d5cc7fe3a746830615"}]}]