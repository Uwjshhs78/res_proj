[{"sha":"b9460e3b239c922dd34ea550b0226e5a13d1cf4a","node_id":"MDY6Q29tbWl0MTU2ODMxNzUwOmI5NDYwZTNiMjM5YzkyMmRkMzRlYTU1MGIwMjI2ZTVhMTNkMWNmNGE=","commit":{"author":{"name":"oskardrenske-ith","email":"62339316+oskardrenske-ith@users.noreply.github.com","date":"2021-06-16T13:24:42Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-06-16T13:24:42Z"},"message":"Broken tests 2 from 2b38 (#70)\n\n* removed print of test name from each test and put it in conftest.py\r\n\r\n* tests: remove unused imports and __main__\r\n\r\n* explicit if/else in '_expand_taxonomy_value_and_replaced', reformatting\r\n\r\n* string formatting changed to f-strings\r\n\r\n* updated pytest & certifi in requirements.txt\r\n\r\n* Change removed occupation to one concept id\r\n\r\n* added todo and default values None for occupation-group and -field\r\n\r\n* requests.get in a function to reduce duplication\r\n\r\n* requests.get in a function to reduce duplication\r\n\r\n* tests: unit tests for _build_contacts function\r\n\r\n* removed unused import\r\n\r\n* specifying Master branch of valuestore-module\r\n\r\n* All broken integration tests are now turned green\r\n\r\n* All broken integration tests are now turned green\r\n\r\n* Tests: enabled skipped integration test. Will only work with Elastic without login.\r\n\r\n* Tests: moved test data from generator in fixture to a separate file\r\nparametrize tests\r\nbroke apart tests so that specific parts are tested and to make tests smaller\r\nwork in progress, tests are failing\r\n\r\n* 3 small improvements\r\n\r\n* Tests: added tests for drivers licenses\r\n\r\n* Tests: added new test ads\r\n\r\n* Tests: added new tests for _build_wp_address function in converter.py\r\n\r\n* Tests: added new tests application details and for date format\r\n\r\n* Tests: tests with new test data in test_converter_2.py (separate file for now to avoid merge conflicts)\r\n\r\n* Tests: unit tests for taxonomy converter\r\n\r\n* organised code - no impact\r\n\r\n* many changes, still some TODO\r\n\r\n* Tests: tests for occupations\r\n\r\n* Tests: removed test that was dependent on specific ad\r\n\r\n* Tests: removed tests that are irrelevant or covered by other tests\r\n\r\n* added todo for retries getting data from Elastic\r\nremoved unused import\r\n\r\n* Tests: moved tests from to unit tests folder\r\n\r\n* Tests: renamed file so that it's executed first (some test cases fail when this is run as part of test suite otherwise)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Add function to fetch from occupation group and field from versionn\r\n\r\n* fix unit test\r\n\r\n* Add deprecated concept id to taxonomy index\r\n\r\n* Fix convert import problem which affect tests cases\r\n\r\n* explicit if/else in '_expand_taxonomy_value_and_replaced', reformatting\r\n\r\n* Tests: moved test data files to integration tests folder\r\n\r\n* Tests: new test data for occupation\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Fix _expand_taxonomy_value test cases problem\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Tests: modified unit test to expect KeyError\r\n\r\n* Tests: moved test to integration tests folder\r\n\r\n* Tests: moved test to unit tests folder\r\n\r\n* Tests: moved test back\r\n\r\n* Tests: run all tests in folder 'tests/unit_tests' in Dockerfile\r\n\r\n* Updated to use Python 3.8 instead of default 3.6\r\n\r\n* removed extra character\r\n\r\nCo-authored-by: baola <lina7906@gmail.com>\r\nCo-authored-by: erik-gbg <erik.kilborn@arbetsformedlingen.se>\r\nCo-authored-by: erik-gbg <80203148+erik-gbg@users.noreply.github.com>\r\nCo-authored-by: halge <oleg.lyalin@arbetsformedlingen.se>","tree":{"sha":"011b8c1aa0bbe7fa958956fe28df319bb4159c40","url":"https://api.github.com/repos/JobtechSwe/elastic-importers/git/trees/011b8c1aa0bbe7fa958956fe28df319bb4159c40"},"url":"https://api.github.com/repos/JobtechSwe/elastic-importers/git/commits/b9460e3b239c922dd34ea550b0226e5a13d1cf4a","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgyfuaCRBK7hj4Ov3rIwAAuUEIAHyTsrfo9xeqzGC2b3iVU/+l\n86VAJC2WNXBYNQ5U8Kkp4AkK2g8dCSDVgmWpkzo7S7xuYd4GZmMDyKXj25jxw6Oc\nDJ6McwgZk77/wdMzk9h/KB8/H/KWZtsgIdkQTxGSohlEoLhSTUQJZVboxoQ8y9Dh\nA6JteRLGpK/dlUl8bt3GW3l+8nRtzj5dhwIK87pw4ToxszSc97BF0b6BBn4NOokU\ngyStgSZXj+OZbDkAlYQ/pUaOEBE8N45WgT/hpQFTMH2V2RhVCDHLoZ2NgeT2rL0v\nj4vmCCF1aw4+5Q4c64o+OxjtFOtMEOtH7Pzy4Iv106ukaI+kgYZGhb39CZtDKY4=\n=Epf2\n-----END PGP SIGNATURE-----\n","payload":"tree 011b8c1aa0bbe7fa958956fe28df319bb4159c40\nparent e608728adb9d072ce0abc014dbb5d210518b15f1\nauthor oskardrenske-ith <62339316+oskardrenske-ith@users.noreply.github.com> 1623849882 +0200\ncommitter GitHub <noreply@github.com> 1623849882 +0200\n\nBroken tests 2 from 2b38 (#70)\n\n* removed print of test name from each test and put it in conftest.py\r\n\r\n* tests: remove unused imports and __main__\r\n\r\n* explicit if/else in '_expand_taxonomy_value_and_replaced', reformatting\r\n\r\n* string formatting changed to f-strings\r\n\r\n* updated pytest & certifi in requirements.txt\r\n\r\n* Change removed occupation to one concept id\r\n\r\n* added todo and default values None for occupation-group and -field\r\n\r\n* requests.get in a function to reduce duplication\r\n\r\n* requests.get in a function to reduce duplication\r\n\r\n* tests: unit tests for _build_contacts function\r\n\r\n* removed unused import\r\n\r\n* specifying Master branch of valuestore-module\r\n\r\n* All broken integration tests are now turned green\r\n\r\n* All broken integration tests are now turned green\r\n\r\n* Tests: enabled skipped integration test. Will only work with Elastic without login.\r\n\r\n* Tests: moved test data from generator in fixture to a separate file\r\nparametrize tests\r\nbroke apart tests so that specific parts are tested and to make tests smaller\r\nwork in progress, tests are failing\r\n\r\n* 3 small improvements\r\n\r\n* Tests: added tests for drivers licenses\r\n\r\n* Tests: added new test ads\r\n\r\n* Tests: added new tests for _build_wp_address function in converter.py\r\n\r\n* Tests: added new tests application details and for date format\r\n\r\n* Tests: tests with new test data in test_converter_2.py (separate file for now to avoid merge conflicts)\r\n\r\n* Tests: unit tests for taxonomy converter\r\n\r\n* organised code - no impact\r\n\r\n* many changes, still some TODO\r\n\r\n* Tests: tests for occupations\r\n\r\n* Tests: removed test that was dependent on specific ad\r\n\r\n* Tests: removed tests that are irrelevant or covered by other tests\r\n\r\n* added todo for retries getting data from Elastic\r\nremoved unused import\r\n\r\n* Tests: moved tests from to unit tests folder\r\n\r\n* Tests: renamed file so that it's executed first (some test cases fail when this is run as part of test suite otherwise)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Add function to fetch from occupation group and field from versionn\r\n\r\n* fix unit test\r\n\r\n* Add deprecated concept id to taxonomy index\r\n\r\n* Fix convert import problem which affect tests cases\r\n\r\n* explicit if/else in '_expand_taxonomy_value_and_replaced', reformatting\r\n\r\n* Tests: moved test data files to integration tests folder\r\n\r\n* Tests: new test data for occupation\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Fix _expand_taxonomy_value test cases problem\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Takes care of the case: changed occupation name while same concept_id (#68)\r\n\r\n* Takes care of the case: changed occupation name while same concept_id\r\n\r\n* test_set_occupations() added\r\n\r\n* Tests: modified unit test to expect KeyError\r\n\r\n* Tests: moved test to integration tests folder\r\n\r\n* Tests: moved test to unit tests folder\r\n\r\n* Tests: moved test back\r\n\r\n* Tests: run all tests in folder 'tests/unit_tests' in Dockerfile\r\n\r\n* Updated to use Python 3.8 instead of default 3.6\r\n\r\n* removed extra character\r\n\r\nCo-authored-by: baola <lina7906@gmail.com>\r\nCo-authored-by: erik-gbg <erik.kilborn@arbetsformedlingen.se>\r\nCo-authored-by: erik-gbg <80203148+erik-gbg@users.noreply.github.com>\r\nCo-authored-by: halge <oleg.lyalin@arbetsformedlingen.se>"}},"url":"https://api.github.com/repos/JobtechSwe/elastic-importers/commits/b9460e3b239c922dd34ea550b0226e5a13d1cf4a","html_url":"https://github.com/JobtechSwe/elastic-importers/commit/b9460e3b239c922dd34ea550b0226e5a13d1cf4a","comments_url":"https://api.github.com/repos/JobtechSwe/elastic-importers/commits/b9460e3b239c922dd34ea550b0226e5a13d1cf4a/comments","author":{"login":"oskardrenske-ith","id":62339316,"node_id":"MDQ6VXNlcjYyMzM5MzE2","avatar_url":"https://avatars.githubusercontent.com/u/62339316?v=4","gravatar_id":"","url":"https://api.github.com/users/oskardrenske-ith","html_url":"https://github.com/oskardrenske-ith","followers_url":"https://api.github.com/users/oskardrenske-ith/followers","following_url":"https://api.github.com/users/oskardrenske-ith/following{/other_user}","gists_url":"https://api.github.com/users/oskardrenske-ith/gists{/gist_id}","starred_url":"https://api.github.com/users/oskardrenske-ith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oskardrenske-ith/subscriptions","organizations_url":"https://api.github.com/users/oskardrenske-ith/orgs","repos_url":"https://api.github.com/users/oskardrenske-ith/repos","events_url":"https://api.github.com/users/oskardrenske-ith/events{/privacy}","received_events_url":"https://api.github.com/users/oskardrenske-ith/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"e608728adb9d072ce0abc014dbb5d210518b15f1","url":"https://api.github.com/repos/JobtechSwe/elastic-importers/commits/e608728adb9d072ce0abc014dbb5d210518b15f1","html_url":"https://github.com/JobtechSwe/elastic-importers/commit/e608728adb9d072ce0abc014dbb5d210518b15f1"}]}]