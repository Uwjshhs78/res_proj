[{"sha":"c2007ffc70101cb4e03722bfe4348af82d4a7bc8","node_id":"MDY6Q29tbWl0Mjg4NzAyMTI4OmMyMDA3ZmZjNzAxMDFjYjRlMDM3MjJiZmU0MzQ4YWY4MmQ0YTdiYzg=","commit":{"author":{"name":"Tom Hipkin","email":"tomhipkin@gmail.com","date":"2020-09-15T13:05:53Z"},"committer":{"name":"Tom Hipkin","email":"tomhipkin@gmail.com","date":"2020-09-15T14:32:39Z"},"message":"CI can run feature tests that require javascript\n\nInstall Firefox (by the name of iceweasel on Ubuntu) so that we can use\nselenium_headless as the Selenium driver. This will allow the test suite\nto run and check javascript when specifed by js: true.\n\nFor non JS tests the default Rack::Test is still used as the driver.\nThis is the default choice of Capybara but I've made it explicit so the\ndistinction is clearer to the reader.\n\nIncluding extra packages like Firefox into the core Dockerfile is not\nideal. It means it is always present in running containers and as well\nas taking more time to build, could present a larger surface area for\nunexpected and unknown exploits. Given the way the script/test and\nscript/bootstrap files are written to use brew rather than using Docker\nto run the tests, on CI this is problematic. Installing Brew takes a\nlong time and cannot be cached unlike a Docker layer. Given Docker is\nonly used for CI it felt the best compromise to add this as a dependency\nfor the docker image that places the firefox binary into position for\nSelenium to use.\n\nInstall Firefox and geckodriver in the Brewfile so the tests can still be run locally should the user not have firefox installed.","tree":{"sha":"445a9590bfd08c017d2f05d2a92b0e6a7ce43c9f","url":"https://api.github.com/repos/dxw/dalmatian-frontend/git/trees/445a9590bfd08c017d2f05d2a92b0e6a7ce43c9f"},"url":"https://api.github.com/repos/dxw/dalmatian-frontend/git/commits/c2007ffc70101cb4e03722bfe4348af82d4a7bc8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/dxw/dalmatian-frontend/commits/c2007ffc70101cb4e03722bfe4348af82d4a7bc8","html_url":"https://github.com/dxw/dalmatian-frontend/commit/c2007ffc70101cb4e03722bfe4348af82d4a7bc8","comments_url":"https://api.github.com/repos/dxw/dalmatian-frontend/commits/c2007ffc70101cb4e03722bfe4348af82d4a7bc8/comments","author":{"login":"tahb","id":912473,"node_id":"MDQ6VXNlcjkxMjQ3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/912473?v=4","gravatar_id":"","url":"https://api.github.com/users/tahb","html_url":"https://github.com/tahb","followers_url":"https://api.github.com/users/tahb/followers","following_url":"https://api.github.com/users/tahb/following{/other_user}","gists_url":"https://api.github.com/users/tahb/gists{/gist_id}","starred_url":"https://api.github.com/users/tahb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahb/subscriptions","organizations_url":"https://api.github.com/users/tahb/orgs","repos_url":"https://api.github.com/users/tahb/repos","events_url":"https://api.github.com/users/tahb/events{/privacy}","received_events_url":"https://api.github.com/users/tahb/received_events","type":"User","site_admin":false},"committer":{"login":"tahb","id":912473,"node_id":"MDQ6VXNlcjkxMjQ3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/912473?v=4","gravatar_id":"","url":"https://api.github.com/users/tahb","html_url":"https://github.com/tahb","followers_url":"https://api.github.com/users/tahb/followers","following_url":"https://api.github.com/users/tahb/following{/other_user}","gists_url":"https://api.github.com/users/tahb/gists{/gist_id}","starred_url":"https://api.github.com/users/tahb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahb/subscriptions","organizations_url":"https://api.github.com/users/tahb/orgs","repos_url":"https://api.github.com/users/tahb/repos","events_url":"https://api.github.com/users/tahb/events{/privacy}","received_events_url":"https://api.github.com/users/tahb/received_events","type":"User","site_admin":false},"parents":[{"sha":"dd385fd2bc6e737027342cdec5fb0ccf617fc0c4","url":"https://api.github.com/repos/dxw/dalmatian-frontend/commits/dd385fd2bc6e737027342cdec5fb0ccf617fc0c4","html_url":"https://github.com/dxw/dalmatian-frontend/commit/dd385fd2bc6e737027342cdec5fb0ccf617fc0c4"}]}]