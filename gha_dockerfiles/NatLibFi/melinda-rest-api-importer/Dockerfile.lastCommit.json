[{"sha":"14cb576382557148ff6e666eaed28ab7663ec823","node_id":"C_kwDODW3ordoAKDE0Y2I1NzYzODI1NTcxNDhmZjZlNjY2ZWFlZDI4YWI3NjYzZWM4MjM","commit":{"author":{"name":"Minttu Hurme","email":"ammsalme@users.noreply.github.com","date":"2021-10-29T12:16:02Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-10-29T12:16:02Z"},"message":"Dev minttu next (#21)\n\n### v2.0.1-alpha.1\r\nRequire node >=14\r\n\r\nUpdate melinda-rest-api-commons to v8\r\n\r\nUpdate marc-record-serializers\r\n\r\nUpdate dependencies\r\n\r\nRemove npm-check\r\n\r\nUpdate deps (Update deps #22)\r\n\r\nNew logic for checking jobs\r\n\r\nUse handledIds and rejectedIds\r\n\r\nPush ids to mongo just once per load process\r\n\r\nReturn after setting state to importing\r\n\r\nAdd recordCount to Mongo queueItem and to logs\r\n\r\nAdd config parameter to keep loadProcessReports\r\n\r\nFixes to error handling\r\n\r\nHandle error cases\r\n\r\nError if a queue is empty when a result is expected\r\n\r\nFix handled id list2 (Fix handled id list2 #23)\r\n\r\nRemove importer AMQP queues (operation.correlationId, PROCESS.corralationId) after a job is done\r\n\r\nUse combined AMQP checkQueues and toRecord parameter\r\n\r\nConsume from queue without id\r\n\r\nChange queueItemState VALIDATOR.IN_QUEUE to IMPORTER.IN_QUEUE\r\n\r\nMore debug logging\r\n\r\nLess spammy logging\r\n\r\nUpdate readme\r\n\r\nAdd readme badges for version and node version\r\n\r\nRemove unnecessary code for handling several correlationIds\r\n\r\nRemove unnecessary sendErrorResponses\r\n\r\nRemove unnecessary eslint-disables\r\n\r\nRemove unused code\r\n\r\nSplit app/handleItemInImporting function that had too many statements\r\n\r\nAdd some record data for testing\r\n\r\nCo-authored-by: Joni Ollila natlibfi-jonollil@users.noreply.github.com","tree":{"sha":"f966e1b952d5727c64f0dddf1995fd50f6445271","url":"https://api.github.com/repos/NatLibFi/melinda-rest-api-importer/git/trees/f966e1b952d5727c64f0dddf1995fd50f6445271"},"url":"https://api.github.com/repos/NatLibFi/melinda-rest-api-importer/git/commits/14cb576382557148ff6e666eaed28ab7663ec823","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhe+YCCRBK7hj4Ov3rIwAAF7UIAH53qKnfPjm1iIVNLBUZ572I\nAO0yEq4fZIvFf5LHHnU1FwS5BhduHwLmljNjJbPO6FRAIbgZ3cOjyYlmQ6xZbNZA\n/dhZY3ZwY8dw53xZTVTe5OIVjyhRPqP7ri2mE8hQXLNVLXI3135EBGzPJBEVpL9C\nbrJ0hpHp4qB8lsfdps/LKgsLNTWWY7V6qPVm4CaMpPzb2UVX4ctQ5H1BJ37fkbXA\nUqxBRD9nyoFu85OGHpyT9UQkm0rz/Bf5pMTu8up9iPcfqUwpy+XvaiHcnAwnqTcL\nD2KMLskJjOIhSvrMkVhlFTxVsDzhr22rYneA1JRPNXCLApzS17kNQ9RTV3LJcHM=\n=B2WE\n-----END PGP SIGNATURE-----\n","payload":"tree f966e1b952d5727c64f0dddf1995fd50f6445271\nparent 3891255ca735b0d020a6cf115ad0cabf1cf581a2\nauthor Minttu Hurme <ammsalme@users.noreply.github.com> 1635509762 +0300\ncommitter GitHub <noreply@github.com> 1635509762 +0300\n\nDev minttu next (#21)\n\n### v2.0.1-alpha.1\r\nRequire node >=14\r\n\r\nUpdate melinda-rest-api-commons to v8\r\n\r\nUpdate marc-record-serializers\r\n\r\nUpdate dependencies\r\n\r\nRemove npm-check\r\n\r\nUpdate deps (Update deps #22)\r\n\r\nNew logic for checking jobs\r\n\r\nUse handledIds and rejectedIds\r\n\r\nPush ids to mongo just once per load process\r\n\r\nReturn after setting state to importing\r\n\r\nAdd recordCount to Mongo queueItem and to logs\r\n\r\nAdd config parameter to keep loadProcessReports\r\n\r\nFixes to error handling\r\n\r\nHandle error cases\r\n\r\nError if a queue is empty when a result is expected\r\n\r\nFix handled id list2 (Fix handled id list2 #23)\r\n\r\nRemove importer AMQP queues (operation.correlationId, PROCESS.corralationId) after a job is done\r\n\r\nUse combined AMQP checkQueues and toRecord parameter\r\n\r\nConsume from queue without id\r\n\r\nChange queueItemState VALIDATOR.IN_QUEUE to IMPORTER.IN_QUEUE\r\n\r\nMore debug logging\r\n\r\nLess spammy logging\r\n\r\nUpdate readme\r\n\r\nAdd readme badges for version and node version\r\n\r\nRemove unnecessary code for handling several correlationIds\r\n\r\nRemove unnecessary sendErrorResponses\r\n\r\nRemove unnecessary eslint-disables\r\n\r\nRemove unused code\r\n\r\nSplit app/handleItemInImporting function that had too many statements\r\n\r\nAdd some record data for testing\r\n\r\nCo-authored-by: Joni Ollila natlibfi-jonollil@users.noreply.github.com"}},"url":"https://api.github.com/repos/NatLibFi/melinda-rest-api-importer/commits/14cb576382557148ff6e666eaed28ab7663ec823","html_url":"https://github.com/NatLibFi/melinda-rest-api-importer/commit/14cb576382557148ff6e666eaed28ab7663ec823","comments_url":"https://api.github.com/repos/NatLibFi/melinda-rest-api-importer/commits/14cb576382557148ff6e666eaed28ab7663ec823/comments","author":{"login":"ammsalme","id":8925485,"node_id":"MDQ6VXNlcjg5MjU0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/8925485?v=4","gravatar_id":"","url":"https://api.github.com/users/ammsalme","html_url":"https://github.com/ammsalme","followers_url":"https://api.github.com/users/ammsalme/followers","following_url":"https://api.github.com/users/ammsalme/following{/other_user}","gists_url":"https://api.github.com/users/ammsalme/gists{/gist_id}","starred_url":"https://api.github.com/users/ammsalme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ammsalme/subscriptions","organizations_url":"https://api.github.com/users/ammsalme/orgs","repos_url":"https://api.github.com/users/ammsalme/repos","events_url":"https://api.github.com/users/ammsalme/events{/privacy}","received_events_url":"https://api.github.com/users/ammsalme/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"3891255ca735b0d020a6cf115ad0cabf1cf581a2","url":"https://api.github.com/repos/NatLibFi/melinda-rest-api-importer/commits/3891255ca735b0d020a6cf115ad0cabf1cf581a2","html_url":"https://github.com/NatLibFi/melinda-rest-api-importer/commit/3891255ca735b0d020a6cf115ad0cabf1cf581a2"}]}]