FROM node:16

ARG SENDGRID_API_KEY
ARG MAIN_LIST_ID

ARG RECAPTCHA_SITE_KEY
ARG RECAPTCHA_SECRET_KEY

ARG IMAGEKIT_PUBLIC_KEY
ARG IMAGEKIT_PRIVATE_KEY
ARG IMAGEKIT_URL_ENDPOINT

ARG AIRTABLE_API_KEY
ARG AIRTABLE_BASE

ARG TELEGRAM_BOT_TOKEN
ARG TELEGRAM_BOT_URL

ARG EXERCISE

WORKDIR /usr/src/app

COPY . ./
RUN yarn

EXPOSE 3000

ENV HOST=0.0.0.0
ENV PORT=3000

RUN yarn build

CMD [ "yarn", "start" ]
