[{"sha":"fba47695763b076252a0f8573159b6464c0cf967","node_id":"C_kwDOEdaOodoAKGZiYTQ3Njk1NzYzYjA3NjI1MmEwZjg1NzMxNTliNjQ2NGMwY2Y5Njc","commit":{"author":{"name":"Lonneke Scheffer","email":"lonsch96@live.nl","date":"2021-10-31T12:28:13Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2021-10-31T12:28:13Z"},"message":"CompAIRR integration (#108)\n\n* minor bugfixes distanceencoder (pass 'name' attribute), updated docs and added some default params\r\n\r\n* Added PrecomputedKNN for use with distance-based encoders\r\n\r\n* Added HammingDistanceEncoder\r\n\r\n* renamed to editdistanceencoder\r\n\r\n* bugfix: use jaccard distance and not similarity\r\n\r\n* bugfix: inverse jaccard for distance metric\r\n\r\n* Bugfixes in DistanceEncoder:\r\n- inverse jaccard (distance) instead of jaccard (similarity)\r\n- bugfix: 'name' and 'context' params were not passed to init\r\n- updated default params\r\n- updated docs\r\n\r\n* updated todos\r\n\r\n* added EditDistanceEncoder test\r\n\r\n* Bugfix: simplify get_labels because repertoire_identifier is not always storedin metadata, causing errors\r\n\r\n* test bugfix\r\n\r\n* test bugfix drop na lines\r\n\r\n* bugfix test\r\n\r\n* bugfix\r\n\r\n* bugfix: sequence of length 0 should also be considered empty\r\n\r\n* test print statements immunohub\r\n\r\n* test print statements immunohub\r\n\r\n* Use Morisita-Horn measure + remove test prints\r\n\r\n* cleaned up code, support ignore genes/counts options, let compAIRR write results/log files, always use threads=1 (but with too large number of threads), check if results values within reasonable range to prevent future bugs, remove metric param\r\n\r\n* Added option to keep the compairr input file, changed an error to warning for debugging\r\n\r\n* updated EditDistanceEncoder to be compatible with newest CompAIRR version\r\n\r\n* fix: min distance lower bound\r\n\r\n* remove one of the input files\r\n\r\n* bugfix: allow pandas DF encoidng to be exported\r\n\r\n* convert dist matrix to numpy\r\n\r\n* bugfix: handle none features in design matrix\r\n\r\n* add feature names\r\n\r\n* debug test\r\n\r\n* docs\r\n\r\n* bump version number\r\n\r\n* change to minor version number\r\n\r\n* updated docs\r\n\r\n* updated docs for installing compairr\r\n\r\n* renamed to compairrdistanceencoder and made threads separate option\r\n\r\n* small fix\r\n\r\n* Added CompAIRRSequenceAbundanceEncoder, refactored CompAIRRDistanceEncoder to use CompAIRRParams and CompAIRRHelper classes\r\n\r\n* bugfixes related to training/test datasets\r\n\r\n* use caching\r\n\r\n* bugfix: sort compairr matrix\r\n\r\n* bugfix: typo\r\n\r\n* fix: make no-gene matching possible\r\n\r\n* test export seq abundance encoder for comparison with CompAIRR results\r\n\r\n* Move label processing code to LabelHelper so it can be used by multiple instructions, thereby fixing a bug that labels could not be defined with positive class in the Exploratory analysis instruction\r\n\r\n* small fixes for testing on immunohub with exploratory analysis parser\r\n\r\n* updated docs, tests, and minor fixes\r\n\r\n* check encoder-ML method compatibility upon YAML parsing\r\n\r\n* added CompAIRR-based encoders to classes\r\n\r\n* changed class to KNN in tests\r\n\r\n* fix\r\n\r\n* added Morisita-Horn option to DistanceMetrics for fair comparison with CompAIRR\r\n\r\n* Added new distance metric type MorisitaHorn\r\n\r\n* bugfix htmlbuilder failed with function parameter (DistanceEncoder)\r\n\r\n* bugfixes DesignMatrixExporter to work with DistanceEncoder\r\n\r\n* export internal matrices for immunohub testing\r\n\r\n* small addition install instructions\r\n\r\n* remove statements for immunohub testing\r\n\r\n* Added batches to running compairr\r\n\r\n* parallelize CompAIRR batch runs and fix: make sure compairr intermediate output files are not overwritten\r\n\r\n* test print statements for immunohub testing\r\n\r\n* remove test print statements\r\n\r\n* minor updates\r\n\r\n* docs update\r\n\r\n* docs update\r\n\r\n* fix old tests\r\n\r\n* update load method for yaml\r\n\r\n* minor fixes\r\n\r\n* add compairr install to python tests for immunohub\r\n\r\n* fix install compairr for github testing\r\n\r\n* enforce newest version\r\n\r\n* add compairr installation to dockerfile\r\n\r\n* minor improvements error messages\r\n\r\n* update docker: fix compairr and remove deeprc\r\n\r\nCo-authored-by: pavlovicmilena <milenapavlovic775@gmail.com>","tree":{"sha":"cf4b2295894e16020035e53516546fcdaeff3603","url":"https://api.github.com/repos/uio-bmi/immuneML/git/trees/cf4b2295894e16020035e53516546fcdaeff3603"},"url":"https://api.github.com/repos/uio-bmi/immuneML/git/commits/fba47695763b076252a0f8573159b6464c0cf967","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhfovdCRBK7hj4Ov3rIwAA05MIACnCHFs2dIsoh+KcmY9KNeBr\nfAzhIwuCuxBJTnkz/wwh0Ozl+d1K0lsjJxmT+6IDeQ34OoawHlALKGgKbCA5fhtl\nB6Chvo2kJJvvuNWqBt5PV5EUaWmhvLAWLWyOHzNhS0eIvRODG9IpyZz6492fG3KM\nqke65q8MI7kkoJUmAJcBWYVLgEqlYC0Z6MO3RWjGMD9zC8lGXX7TlLCxhCw9wM95\npyw1+Qem6tzxo0YWMBjIVleRWzl5BXPE2LLkyxSJTS0UGaXPQSqvAwz4UtpvB2d6\nDTYxljya+KW/6pFQoitKBNcsS23nh2fOOXF01SztRHmZTltCNKILC2UgM2+M7gM=\n=ioZH\n-----END PGP SIGNATURE-----\n","payload":"tree cf4b2295894e16020035e53516546fcdaeff3603\nparent f24678a3188764e5c318bff7a7f194e4aa702f52\nauthor Lonneke Scheffer <lonsch96@live.nl> 1635683293 +0100\ncommitter GitHub <noreply@github.com> 1635683293 +0100\n\nCompAIRR integration (#108)\n\n* minor bugfixes distanceencoder (pass 'name' attribute), updated docs and added some default params\r\n\r\n* Added PrecomputedKNN for use with distance-based encoders\r\n\r\n* Added HammingDistanceEncoder\r\n\r\n* renamed to editdistanceencoder\r\n\r\n* bugfix: use jaccard distance and not similarity\r\n\r\n* bugfix: inverse jaccard for distance metric\r\n\r\n* Bugfixes in DistanceEncoder:\r\n- inverse jaccard (distance) instead of jaccard (similarity)\r\n- bugfix: 'name' and 'context' params were not passed to init\r\n- updated default params\r\n- updated docs\r\n\r\n* updated todos\r\n\r\n* added EditDistanceEncoder test\r\n\r\n* Bugfix: simplify get_labels because repertoire_identifier is not always storedin metadata, causing errors\r\n\r\n* test bugfix\r\n\r\n* test bugfix drop na lines\r\n\r\n* bugfix test\r\n\r\n* bugfix\r\n\r\n* bugfix: sequence of length 0 should also be considered empty\r\n\r\n* test print statements immunohub\r\n\r\n* test print statements immunohub\r\n\r\n* Use Morisita-Horn measure + remove test prints\r\n\r\n* cleaned up code, support ignore genes/counts options, let compAIRR write results/log files, always use threads=1 (but with too large number of threads), check if results values within reasonable range to prevent future bugs, remove metric param\r\n\r\n* Added option to keep the compairr input file, changed an error to warning for debugging\r\n\r\n* updated EditDistanceEncoder to be compatible with newest CompAIRR version\r\n\r\n* fix: min distance lower bound\r\n\r\n* remove one of the input files\r\n\r\n* bugfix: allow pandas DF encoidng to be exported\r\n\r\n* convert dist matrix to numpy\r\n\r\n* bugfix: handle none features in design matrix\r\n\r\n* add feature names\r\n\r\n* debug test\r\n\r\n* docs\r\n\r\n* bump version number\r\n\r\n* change to minor version number\r\n\r\n* updated docs\r\n\r\n* updated docs for installing compairr\r\n\r\n* renamed to compairrdistanceencoder and made threads separate option\r\n\r\n* small fix\r\n\r\n* Added CompAIRRSequenceAbundanceEncoder, refactored CompAIRRDistanceEncoder to use CompAIRRParams and CompAIRRHelper classes\r\n\r\n* bugfixes related to training/test datasets\r\n\r\n* use caching\r\n\r\n* bugfix: sort compairr matrix\r\n\r\n* bugfix: typo\r\n\r\n* fix: make no-gene matching possible\r\n\r\n* test export seq abundance encoder for comparison with CompAIRR results\r\n\r\n* Move label processing code to LabelHelper so it can be used by multiple instructions, thereby fixing a bug that labels could not be defined with positive class in the Exploratory analysis instruction\r\n\r\n* small fixes for testing on immunohub with exploratory analysis parser\r\n\r\n* updated docs, tests, and minor fixes\r\n\r\n* check encoder-ML method compatibility upon YAML parsing\r\n\r\n* added CompAIRR-based encoders to classes\r\n\r\n* changed class to KNN in tests\r\n\r\n* fix\r\n\r\n* added Morisita-Horn option to DistanceMetrics for fair comparison with CompAIRR\r\n\r\n* Added new distance metric type MorisitaHorn\r\n\r\n* bugfix htmlbuilder failed with function parameter (DistanceEncoder)\r\n\r\n* bugfixes DesignMatrixExporter to work with DistanceEncoder\r\n\r\n* export internal matrices for immunohub testing\r\n\r\n* small addition install instructions\r\n\r\n* remove statements for immunohub testing\r\n\r\n* Added batches to running compairr\r\n\r\n* parallelize CompAIRR batch runs and fix: make sure compairr intermediate output files are not overwritten\r\n\r\n* test print statements for immunohub testing\r\n\r\n* remove test print statements\r\n\r\n* minor updates\r\n\r\n* docs update\r\n\r\n* docs update\r\n\r\n* fix old tests\r\n\r\n* update load method for yaml\r\n\r\n* minor fixes\r\n\r\n* add compairr install to python tests for immunohub\r\n\r\n* fix install compairr for github testing\r\n\r\n* enforce newest version\r\n\r\n* add compairr installation to dockerfile\r\n\r\n* minor improvements error messages\r\n\r\n* update docker: fix compairr and remove deeprc\r\n\r\nCo-authored-by: pavlovicmilena <milenapavlovic775@gmail.com>"}},"url":"https://api.github.com/repos/uio-bmi/immuneML/commits/fba47695763b076252a0f8573159b6464c0cf967","html_url":"https://github.com/uio-bmi/immuneML/commit/fba47695763b076252a0f8573159b6464c0cf967","comments_url":"https://api.github.com/repos/uio-bmi/immuneML/commits/fba47695763b076252a0f8573159b6464c0cf967/comments","author":{"login":"BlueBasilisk","id":20423115,"node_id":"MDQ6VXNlcjIwNDIzMTE1","avatar_url":"https://avatars.githubusercontent.com/u/20423115?v=4","gravatar_id":"","url":"https://api.github.com/users/BlueBasilisk","html_url":"https://github.com/BlueBasilisk","followers_url":"https://api.github.com/users/BlueBasilisk/followers","following_url":"https://api.github.com/users/BlueBasilisk/following{/other_user}","gists_url":"https://api.github.com/users/BlueBasilisk/gists{/gist_id}","starred_url":"https://api.github.com/users/BlueBasilisk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BlueBasilisk/subscriptions","organizations_url":"https://api.github.com/users/BlueBasilisk/orgs","repos_url":"https://api.github.com/users/BlueBasilisk/repos","events_url":"https://api.github.com/users/BlueBasilisk/events{/privacy}","received_events_url":"https://api.github.com/users/BlueBasilisk/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"f24678a3188764e5c318bff7a7f194e4aa702f52","url":"https://api.github.com/repos/uio-bmi/immuneML/commits/f24678a3188764e5c318bff7a7f194e4aa702f52","html_url":"https://github.com/uio-bmi/immuneML/commit/f24678a3188764e5c318bff7a7f194e4aa702f52"}]}]