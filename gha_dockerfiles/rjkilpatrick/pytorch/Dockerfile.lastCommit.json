[{"sha":"0c3bae6a89303284d83e5eac0f1ab947a7213f16","node_id":"MDY6Q29tbWl0MzA4MzM1NzExOjBjM2JhZTZhODkzMDMyODRkODNlNWVhYzBmMWFiOTQ3YTcyMTNmMTY=","commit":{"author":{"name":"Felix Abecassis","email":"fabecassis@nvidia.com","date":"2021-01-07T22:11:01Z"},"committer":{"name":"Facebook GitHub Bot","email":"facebook-github-bot@users.noreply.github.com","date":"2021-01-07T22:12:54Z"},"message":"docker: add environment variable PYTORCH_VERSION (#50154)\n\nSummary:\nThe aim is being able to inspect a container image and determine immediately\nwhich version of pytorch it contains.\n\nCloses https://github.com/pytorch/pytorch/issues/48324\n\nSigned-off-by: Felix Abecassis <fabecassis@nvidia.com>\n\nseemethere PTAL.\nAs you requested in https://github.com/pytorch/pytorch/issues/48324#issuecomment-754237156, I'm submitting the patch. But I could only do limited testing as I'm not sure these Makefile/Dockerfile are used for pushing the Docker Hub images (since the Makefile tags the image with a `v` prefix for the version, as in: `pytorch:v1.7.1`, but Docker Hub images don't have this prefix).\n\nAlso on the master branch we currently have the following:\n```\n$ git describe --tags\nv1.4.0a0-11171-g68a6e46379\n```\nSo it's a little off, but it behaves as expected on the `release/1.7` branch.\n\nPull Request resolved: https://github.com/pytorch/pytorch/pull/50154\n\nReviewed By: walterddr\n\nDifferential Revision: D25828491\n\nPulled By: seemethere\n\nfbshipit-source-id: 500ec96cb5f5da1321610002d5e3678f4b0b94b5","tree":{"sha":"aae1e66aed3562d178f34848e69d9dfb41221493","url":"https://api.github.com/repos/rjkilpatrick/pytorch/git/trees/aae1e66aed3562d178f34848e69d9dfb41221493"},"url":"https://api.github.com/repos/rjkilpatrick/pytorch/git/commits/0c3bae6a89303284d83e5eac0f1ab947a7213f16","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/rjkilpatrick/pytorch/commits/0c3bae6a89303284d83e5eac0f1ab947a7213f16","html_url":"https://github.com/rjkilpatrick/pytorch/commit/0c3bae6a89303284d83e5eac0f1ab947a7213f16","comments_url":"https://api.github.com/repos/rjkilpatrick/pytorch/commits/0c3bae6a89303284d83e5eac0f1ab947a7213f16/comments","author":{"login":"flx42","id":3645581,"node_id":"MDQ6VXNlcjM2NDU1ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3645581?v=4","gravatar_id":"","url":"https://api.github.com/users/flx42","html_url":"https://github.com/flx42","followers_url":"https://api.github.com/users/flx42/followers","following_url":"https://api.github.com/users/flx42/following{/other_user}","gists_url":"https://api.github.com/users/flx42/gists{/gist_id}","starred_url":"https://api.github.com/users/flx42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flx42/subscriptions","organizations_url":"https://api.github.com/users/flx42/orgs","repos_url":"https://api.github.com/users/flx42/repos","events_url":"https://api.github.com/users/flx42/events{/privacy}","received_events_url":"https://api.github.com/users/flx42/received_events","type":"User","site_admin":false},"committer":{"login":"facebook-github-bot","id":6422482,"node_id":"MDQ6VXNlcjY0MjI0ODI=","avatar_url":"https://avatars.githubusercontent.com/u/6422482?v=4","gravatar_id":"","url":"https://api.github.com/users/facebook-github-bot","html_url":"https://github.com/facebook-github-bot","followers_url":"https://api.github.com/users/facebook-github-bot/followers","following_url":"https://api.github.com/users/facebook-github-bot/following{/other_user}","gists_url":"https://api.github.com/users/facebook-github-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/facebook-github-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/facebook-github-bot/subscriptions","organizations_url":"https://api.github.com/users/facebook-github-bot/orgs","repos_url":"https://api.github.com/users/facebook-github-bot/repos","events_url":"https://api.github.com/users/facebook-github-bot/events{/privacy}","received_events_url":"https://api.github.com/users/facebook-github-bot/received_events","type":"User","site_admin":false},"parents":[{"sha":"e12008d110acae507573b4f5feb02f94125a4463","url":"https://api.github.com/repos/rjkilpatrick/pytorch/commits/e12008d110acae507573b4f5feb02f94125a4463","html_url":"https://github.com/rjkilpatrick/pytorch/commit/e12008d110acae507573b4f5feb02f94125a4463"}]}]