[{"sha":"cb81ea063ac39221ed75f4c471294e760cd256b1","node_id":"MDY6Q29tbWl0MzY0MzU0MDk6Y2I4MWVhMDYzYWMzOTIyMWVkNzVmNGM0NzEyOTRlNzYwY2QyNTZiMQ==","commit":{"author":{"name":"Sylvain Bellemare","email":"sbellem@gmail.com","date":"2016-06-17T18:42:14Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2016-06-17T18:42:14Z"},"message":"Py3 (#40)\n\n* Ignore backup files (*.bak)\r\n\r\n* Use python 3 for default Dockerfile\r\n\r\n* Add python 2 -based Dockerfile\r\n\r\n* Add python 2 -based service in docker-compose.yml\r\n\r\n* Add future lib\r\n\r\n* Futurized stage1\r\n\r\n* Futurized stage2\r\n\r\n* Workaround to compute metadata + file hashes\r\n\r\nIn python 2 unicode strings are represented with an explicit unicode\r\nliteral ('u'), whereas in python 3, although supported, it is dropped by\r\ndefault. Why is this a problem? In python 2, the hash of (metadata + file\r\nhash) would be computed using an input such as:\r\n\"[u'artist name', u'piece title', 'file hash']\". In python 3 the same\r\ndata would be: \"['artist name', 'piece title', 'file hash']\". The fact\r\nthat the prefix 'u' is not there results in a different hash. In other\r\nwords, the inputs are different because the reprsentations are\r\ndifferent, which yields different outputs.\r\n\r\n* Add python 3.5 to travis\r\n\r\n* Add source encoding and clean up imports\r\n\r\n* Order metadata values by keys to hash them\r\n\r\n* Import bitcoin functions\r\n\r\n* Use list comprehensions instead of filter\r\n\r\nQuoting python docs:\r\n\r\n\"map() and filter() return iterators. If you really need a list and the\r\ninput sequences are all of equal length, a quick fix is to wrap map() in\r\nlist(), e.g. list(map(...)), but a better fix is often to use a list\r\ncomprehension (especially when the original code uses lambda), or\r\nrewriting the code so it doesnâ€™t need a list at all. [...]\"\r\n\r\nref: https://docs.python.org/3/whatsnew/3.0.html#views-and-iterators-instead-of-lists","tree":{"sha":"80daced23edb65c375ca4a07f30a652ddd1fddd1","url":"https://api.github.com/repos/ascribe/pyspool/git/trees/80daced23edb65c375ca4a07f30a652ddd1fddd1"},"url":"https://api.github.com/repos/ascribe/pyspool/git/commits/cb81ea063ac39221ed75f4c471294e760cd256b1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/ascribe/pyspool/commits/cb81ea063ac39221ed75f4c471294e760cd256b1","html_url":"https://github.com/ascribe/pyspool/commit/cb81ea063ac39221ed75f4c471294e760cd256b1","comments_url":"https://api.github.com/repos/ascribe/pyspool/commits/cb81ea063ac39221ed75f4c471294e760cd256b1/comments","author":{"login":"sbellem","id":125458,"node_id":"MDQ6VXNlcjEyNTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/125458?v=4","gravatar_id":"","url":"https://api.github.com/users/sbellem","html_url":"https://github.com/sbellem","followers_url":"https://api.github.com/users/sbellem/followers","following_url":"https://api.github.com/users/sbellem/following{/other_user}","gists_url":"https://api.github.com/users/sbellem/gists{/gist_id}","starred_url":"https://api.github.com/users/sbellem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbellem/subscriptions","organizations_url":"https://api.github.com/users/sbellem/orgs","repos_url":"https://api.github.com/users/sbellem/repos","events_url":"https://api.github.com/users/sbellem/events{/privacy}","received_events_url":"https://api.github.com/users/sbellem/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"ddffce971d928e0fa63330b7534a84f7d1a2a5e5","url":"https://api.github.com/repos/ascribe/pyspool/commits/ddffce971d928e0fa63330b7534a84f7d1a2a5e5","html_url":"https://github.com/ascribe/pyspool/commit/ddffce971d928e0fa63330b7534a84f7d1a2a5e5"}]}]