[{"sha":"7bc416f9e6da0926d09cc9618310ef9c870cc0dd","node_id":"MDY6Q29tbWl0MTAzNDk3OTU6N2JjNDE2ZjllNmRhMDkyNmQwOWNjOTYxODMxMGVmOWM4NzBjYzBkZA==","commit":{"author":{"name":"Hugues Malphettes","email":"hmalphettes@gmail.com","date":"2015-01-23T02:21:57Z"},"committer":{"name":"Hugues Malphettes","email":"hmalphettes@gmail.com","date":"2015-01-23T02:21:57Z"},"message":"Fix #10: missing kibana in the docker image\n\nThe npm postinstall script was failing when run by the root user during a docker build with the following:\r\n```\r\nnpm WARN cannot run in wd kibana-proxy@0.0.0 [ -f kibana/index.html ] && exit 0; mkdir -p kibana; curl https://download.elasticsearch.org/kibana/kibana/kibana-3.1.2.tar.gz | tar xvzf - -C kibana --strip-components=1 (wd=/app)\r\n```\r\nThe docker build executes as the root user but npm downgrades its permissions during the npm install.\r\nadding universal read and write permissions to the app folder during the build does not prevent the issue.\r\n\r\nRunning `npm install --unsafe-perm` solves the problem.","tree":{"sha":"c5c85ab64f608bc99fbe488106d1697bc4d9388f","url":"https://api.github.com/repos/hmalphettes/kibana-proxy/git/trees/c5c85ab64f608bc99fbe488106d1697bc4d9388f"},"url":"https://api.github.com/repos/hmalphettes/kibana-proxy/git/commits/7bc416f9e6da0926d09cc9618310ef9c870cc0dd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/hmalphettes/kibana-proxy/commits/7bc416f9e6da0926d09cc9618310ef9c870cc0dd","html_url":"https://github.com/hmalphettes/kibana-proxy/commit/7bc416f9e6da0926d09cc9618310ef9c870cc0dd","comments_url":"https://api.github.com/repos/hmalphettes/kibana-proxy/commits/7bc416f9e6da0926d09cc9618310ef9c870cc0dd/comments","author":{"login":"hmalphettes","id":55289,"node_id":"MDQ6VXNlcjU1Mjg5","avatar_url":"https://avatars.githubusercontent.com/u/55289?v=4","gravatar_id":"","url":"https://api.github.com/users/hmalphettes","html_url":"https://github.com/hmalphettes","followers_url":"https://api.github.com/users/hmalphettes/followers","following_url":"https://api.github.com/users/hmalphettes/following{/other_user}","gists_url":"https://api.github.com/users/hmalphettes/gists{/gist_id}","starred_url":"https://api.github.com/users/hmalphettes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmalphettes/subscriptions","organizations_url":"https://api.github.com/users/hmalphettes/orgs","repos_url":"https://api.github.com/users/hmalphettes/repos","events_url":"https://api.github.com/users/hmalphettes/events{/privacy}","received_events_url":"https://api.github.com/users/hmalphettes/received_events","type":"User","site_admin":false},"committer":{"login":"hmalphettes","id":55289,"node_id":"MDQ6VXNlcjU1Mjg5","avatar_url":"https://avatars.githubusercontent.com/u/55289?v=4","gravatar_id":"","url":"https://api.github.com/users/hmalphettes","html_url":"https://github.com/hmalphettes","followers_url":"https://api.github.com/users/hmalphettes/followers","following_url":"https://api.github.com/users/hmalphettes/following{/other_user}","gists_url":"https://api.github.com/users/hmalphettes/gists{/gist_id}","starred_url":"https://api.github.com/users/hmalphettes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmalphettes/subscriptions","organizations_url":"https://api.github.com/users/hmalphettes/orgs","repos_url":"https://api.github.com/users/hmalphettes/repos","events_url":"https://api.github.com/users/hmalphettes/events{/privacy}","received_events_url":"https://api.github.com/users/hmalphettes/received_events","type":"User","site_admin":false},"parents":[{"sha":"960942b1dc8b56c1bbc686399fce099a07cb6c44","url":"https://api.github.com/repos/hmalphettes/kibana-proxy/commits/960942b1dc8b56c1bbc686399fce099a07cb6c44","html_url":"https://github.com/hmalphettes/kibana-proxy/commit/960942b1dc8b56c1bbc686399fce099a07cb6c44"}]}]