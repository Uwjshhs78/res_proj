[{"sha":"b90ee427cfd66869cf341152388ecd3e2822c188","node_id":"MDY6Q29tbWl0MTUwMzcxNzI6YjkwZWU0MjdjZmQ2Njg2OWNmMzQxMTUyMzg4ZWNkM2UyODIyYzE4OA==","commit":{"author":{"name":"Ilya Kreymer","email":"ikreymer@users.noreply.github.com","date":"2019-02-27T17:13:38Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-02-27T17:13:38Z"},"message":"Docker Improvements (#446)\n\n* Misc improvements, including fixes from @funkyfuture:\r\n- Dockerfile: Reduces number of created layers and source contents\r\n- Support for automatic collection creation if INIT_COLLECTION is defined\r\n- Add entry point script docker-entrypoint.sh\r\n- update to latest python (3.7.2 currently)\r\n- additions to .dockerignore\r\n- setup.py and requirements cleanup (just use plain 'gevent' requirement)\r\n\r\n* docker-entrypoint.sh improvements:\r\n- before running cmd, match uid/gid to that of volume dir (specified via $VOLUME_DIR, defaulting to /webarchive)\r\n- if volume is owned by root (default if none mounted), just run as root\r\n- if volume is owned by different user, create/update user 'archivist' to match the uid/gid of $VOLUME_DIR, then run cmd as 'su archivist'","tree":{"sha":"a68b0ed80514ebaf4b2a1f712e35aa561f66bb3b","url":"https://api.github.com/repos/webrecorder/pywb/git/trees/a68b0ed80514ebaf4b2a1f712e35aa561f66bb3b"},"url":"https://api.github.com/repos/webrecorder/pywb/git/commits/b90ee427cfd66869cf341152388ecd3e2822c188","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcdsVCCRBK7hj4Ov3rIwAAdHIIAI+wRXATIn25M3l7I+x95SPe\nGBWmDQErq2cxmDBACdNBNyd8TTs7EPrj8zoABtRLn2b6Vn1Lu+GIMpeqj7FbG5qq\nNGY68Y9CUnViGEB1b+I8ikekcEjM7sBGaz5mwxDaMwhLImWOrv80Lf31VmFpMNtg\ndaD0Zs0l5yvVmF9FTjyDs/VKh3QwfmmXZZQwSSqHEgsoC4SIEc7k0yZCU5Krz4vD\n/PT4n+wIKnitTuB+YazwxqzYYwtvzwPtl+cpTRz7GLgWIxELh9e9yAP2s4P+BWqJ\nXGEo9oaM9tW6rcqCF8tBUZ1U0B6o92a2fIqf3oklJKakz1VpgHeHyttDwiSBolw=\n=E1+C\n-----END PGP SIGNATURE-----\n","payload":"tree a68b0ed80514ebaf4b2a1f712e35aa561f66bb3b\nparent 259f571cb94d363c995603a97fd3d016639eb3bb\nauthor Ilya Kreymer <ikreymer@users.noreply.github.com> 1551287618 -0800\ncommitter GitHub <noreply@github.com> 1551287618 -0800\n\nDocker Improvements (#446)\n\n* Misc improvements, including fixes from @funkyfuture:\r\n- Dockerfile: Reduces number of created layers and source contents\r\n- Support for automatic collection creation if INIT_COLLECTION is defined\r\n- Add entry point script docker-entrypoint.sh\r\n- update to latest python (3.7.2 currently)\r\n- additions to .dockerignore\r\n- setup.py and requirements cleanup (just use plain 'gevent' requirement)\r\n\r\n* docker-entrypoint.sh improvements:\r\n- before running cmd, match uid/gid to that of volume dir (specified via $VOLUME_DIR, defaulting to /webarchive)\r\n- if volume is owned by root (default if none mounted), just run as root\r\n- if volume is owned by different user, create/update user 'archivist' to match the uid/gid of $VOLUME_DIR, then run cmd as 'su archivist'\r\n"}},"url":"https://api.github.com/repos/webrecorder/pywb/commits/b90ee427cfd66869cf341152388ecd3e2822c188","html_url":"https://github.com/webrecorder/pywb/commit/b90ee427cfd66869cf341152388ecd3e2822c188","comments_url":"https://api.github.com/repos/webrecorder/pywb/commits/b90ee427cfd66869cf341152388ecd3e2822c188/comments","author":{"login":"ikreymer","id":1015759,"node_id":"MDQ6VXNlcjEwMTU3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015759?v=4","gravatar_id":"","url":"https://api.github.com/users/ikreymer","html_url":"https://github.com/ikreymer","followers_url":"https://api.github.com/users/ikreymer/followers","following_url":"https://api.github.com/users/ikreymer/following{/other_user}","gists_url":"https://api.github.com/users/ikreymer/gists{/gist_id}","starred_url":"https://api.github.com/users/ikreymer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikreymer/subscriptions","organizations_url":"https://api.github.com/users/ikreymer/orgs","repos_url":"https://api.github.com/users/ikreymer/repos","events_url":"https://api.github.com/users/ikreymer/events{/privacy}","received_events_url":"https://api.github.com/users/ikreymer/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"259f571cb94d363c995603a97fd3d016639eb3bb","url":"https://api.github.com/repos/webrecorder/pywb/commits/259f571cb94d363c995603a97fd3d016639eb3bb","html_url":"https://github.com/webrecorder/pywb/commit/259f571cb94d363c995603a97fd3d016639eb3bb"}]}]